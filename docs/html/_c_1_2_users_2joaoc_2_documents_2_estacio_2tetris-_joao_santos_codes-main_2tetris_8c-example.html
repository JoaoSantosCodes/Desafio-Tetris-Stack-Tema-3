<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="pt">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tetris Stack - NÃ­vel Adventurer: C:/Users/joaoc/Documents/Estacio/tetris-JoaoSantosCodes-main/tetris.c</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tetris Stack - NÃ­vel Adventurer<span id="projectnumber">&#160;2.0.0</span>
   </div>
   <div id="projectbrief">Sistema AvanÃ§ado de Gerenciamento de PeÃ§as Tetris</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Gerado por Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Localizar',false);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Carregando...</div>
<div class="SRStatus" id="Searching">Procurando...</div>
<div class="SRStatus" id="NoMatches">Nenhuma entrada encontrada</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">C:/Users/joaoc/Documents/Estacio/tetris-JoaoSantosCodes-main/tetris.c</div></div>
</div><!--header-->
<div class="contents">
<p>Exibe estatÃ­sticas avanÃ§adas do sistema Expert.</p>
<p>Exibe estatÃ­sticas avanÃ§adas do sistema ExpertInterface visual aprimorada que apresenta:</p><ul>
<li>PontuaÃ§Ã£o e progressÃ£o com barras de progresso</li>
<li>Combos e sequÃªncias com indicadores visuais</li>
<li>EstatÃ­sticas detalhadas por tipo de peÃ§a</li>
<li>MÃ©tricas de eficiÃªncia e performance</li>
<li>Sistema de conquistas e marcos</li>
</ul>
<dl class="params"><dt>ParÃ¢metros</dt><dd>
  <table class="params">
    <tr><td class="paramname">sistemaPtr</td><td>Ponteiro para o sistema ExpertOtimiza e valida o sistema Expert</td></tr>
  </table>
  </dd>
</dl>
<p>Realiza verificaÃ§Ãµes de integridade e otimizaÃ§Ãµes:</p><ul>
<li>Valida consistÃªncia dos dados</li>
<li>Otimiza cÃ¡lculos de eficiÃªncia</li>
<li>Ajusta parÃ¢metros de dificuldade</li>
<li>Corrige valores inconsistentes</li>
</ul>
<dl class="params"><dt>ParÃ¢metros</dt><dd>
  <table class="params">
    <tr><td class="paramname">sistemaPtr</td><td>Ponteiro para o sistema Expert </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>1 se otimizaÃ§Ã£o bem-sucedida, 0 caso contrÃ¡rio</dd></dl>
<p>Gera relatÃ³rio detalhado do sistema Expert</p>
<p>Cria um relatÃ³rio completo com:</p><ul>
<li>AnÃ¡lise de performance</li>
<li>RecomendaÃ§Ãµes estratÃ©gicas</li>
<li>EstatÃ­sticas comparativas</li>
<li>ProjeÃ§Ãµes de melhoria</li>
</ul>
<dl class="params"><dt>ParÃ¢metros</dt><dd>
  <table class="params">
    <tr><td class="paramname">sistemaPtr</td><td>Ponteiro para o sistema Expert</td></tr>
  </table>
  </dd>
</dl>
<p>Estrutura que representa uma peÃ§a individual do Tetris</p>
<p>Cada peÃ§a possui duas propriedades fundamentais: â€¢ tipo: Caractere que define o formato geomÃ©trico da peÃ§a â€¢ id: Identificador numÃ©rico Ãºnico para rastreamento</p>
<dl class="section note"><dt>Nota</dt><dd>Os tipos suportados sÃ£o: 'I', 'O', 'T', 'L' </dd>
<dd>
Os IDs sÃ£o gerados sequencialmente a partir de 1</dd></dl>
<p>Estrutura que implementa uma fila circular para gerenciamento de peÃ§as</p>
<p>A fila circular otimiza o uso de memÃ³ria reutilizando posiÃ§Ãµes do array. MantÃ©m exatamente 5 peÃ§as em rotaÃ§Ã£o constante, seguindo o padrÃ£o FIFO (First In, First Out - primeiro a entrar, primeiro a sair).</p>
<p>Componentes da estrutura: â€¢ pecas[5]: Array fixo que armazena as 5 peÃ§as â€¢ indiceFrente: Aponta para a prÃ³xima peÃ§a a ser jogada â€¢ indiceTras: Aponta para a posiÃ§Ã£o da Ãºltima peÃ§a inserida â€¢ quantidadePecas: Contador atual de peÃ§as vÃ¡lidas (0 a 5)</p>
<dl class="section note"><dt>Nota</dt><dd>A circularidade Ã© implementada usando operaÃ§Ã£o mÃ³dulo (%) </dd>
<dd>
Quando cheia, novas inserÃ§Ãµes sobrescrevem as mais antigas</dd></dl>
<p>Estrutura que implementa uma pilha linear para reserva estratÃ©gica</p>
<p>A pilha de reserva permite armazenamento temporÃ¡rio de atÃ© 3 peÃ§as, seguindo o padrÃ£o LIFO (Last In, First Out - Ãºltimo a entrar, primeiro a sair). Ã‰ utilizada para estratÃ©gias avanÃ§adas de gerenciamento de peÃ§as.</p>
<p>Componentes da estrutura: â€¢ pecasReservadas[3]: Array linear para armazenamento das peÃ§as â€¢ indiceTopo: Ãndice do topo da pilha (-1 = vazia, 0-2 = posiÃ§Ãµes vÃ¡lidas) â€¢ quantidadeReservada: Contador atual de peÃ§as reservadas (0 a 3)</p>
<p>OperaÃ§Ãµes principais: â€¢ Push (empilhar): Adiciona peÃ§a no topo, incrementa indiceTopo â€¢ Pop (desempilhar): Remove peÃ§a do topo, decrementa indiceTopo</p>
<dl class="section note"><dt>Nota</dt><dd>O Ã­ndice -1 indica pilha vazia </dd>
<dd>
MÃ¡ximo de 3 peÃ§as podem ser armazenadas simultaneamente</dd></dl>
<p>Estrutura para sistema de pontuaÃ§Ã£o e estatÃ­sticas avanÃ§adas - NÃ­vel Expert</p>
<p>Esta estrutura mantÃ©m todas as mÃ©tricas de gameplay do NÃ­vel Expert, incluindo pontuaÃ§Ã£o, combos, nÃ­veis de dificuldade e estatÃ­sticas detalhadas.</p>
<p>Funcionalidades implementadas:</p><ul>
<li>Sistema de pontuaÃ§Ã£o com multiplicadores</li>
<li>DetecÃ§Ã£o e contabilizaÃ§Ã£o de combos</li>
<li>ProgressÃ£o automÃ¡tica de nÃ­veis</li>
<li>EstatÃ­sticas completas de performance</li>
<li>Sistema de conquistas e marcos</li>
</ul>
<dl class="section author"><dt>Autor</dt><dd>JoÃ£o Santos </dd></dl>
<dl class="section version"><dt>VersÃ£o</dt><dd>2.0 - NÃ­vel Expert</dd></dl>
<p>&lt; PontuaÃ§Ã£o acumulada total do jogador</p>
<p>&lt; PontuaÃ§Ã£o no nÃ­vel atual (reset a cada nÃ­vel)</p>
<p>&lt; Multiplicador de pontos atual (1x-10x)</p>
<p>&lt; Pontos ganhos na Ãºltima jogada</p>
<p>&lt; SequÃªncia atual de combos consecutivos</p>
<p>&lt; Maior sequÃªncia de combos alcanÃ§ada</p>
<p>&lt; Total de combos realizados na sessÃ£o</p>
<p>&lt; Ãšltimo tipo de peÃ§a jogada (para combos)</p>
<p>&lt; SequÃªncia atual do mesmo tipo de peÃ§a</p>
<p>&lt; NÃ­vel de dificuldade atual (1-10)</p>
<p>&lt; Pontos necessÃ¡rios para prÃ³ximo nÃ­vel</p>
<p>&lt; Limite de pontos do nÃ­vel atual</p>
<p>&lt; Multiplicador de dificuldade (1.0-3.0)</p>
<p>&lt; Total de peÃ§as jogadas na sessÃ£o</p>
<p>&lt; PeÃ§as jogadas diretamente da fila</p>
<p>&lt; PeÃ§as jogadas da pilha de reserva</p>
<p>&lt; Total de peÃ§as reservadas na sessÃ£o</p>
<p>&lt; Percentual de uso eficiente da reserva</p>
<p>&lt; Contador de peÃ§as tipo 'I' jogadas</p>
<p>&lt; Contador de peÃ§as tipo 'O' jogadas</p>
<p>&lt; Contador de peÃ§as tipo 'T' jogadas</p>
<p>&lt; Contador de peÃ§as tipo 'L' jogadas</p>
<p>&lt; Tipo de peÃ§a mais utilizado</p>
<p>&lt; Bitmask das conquistas alcanÃ§adas</p>
<p>&lt; Contador de marcos especiais atingidos</p>
<p>&lt; Maior pontuaÃ§Ã£o jÃ¡ alcanÃ§ada</p>
<p>Contador global para gerar identificadores Ãºnicos e sequenciais</p>
<p>Esta variÃ¡vel mantÃ©m o controle dos IDs atribuÃ­dos Ã s peÃ§as: â€¢ Inicia em 1 para facilitar a contagem humana â€¢ Ã‰ incrementada automaticamente a cada nova peÃ§a criada â€¢ Garante que cada peÃ§a tenha um identificador Ãºnico durante toda a sessÃ£o â€¢ Permite rastreamento e estatÃ­sticas precisas do jogo</p>
<dl class="section note"><dt>Nota</dt><dd>O valor nunca Ã© decrementado, mantendo a unicidade dos IDs </dd>
<dd>
Ã‰ utilizada pela funÃ§Ã£o gerarNovaPeca() para atribuiÃ§Ã£o automÃ¡tica</dd></dl>
<p>Gera uma nova peÃ§a automaticamente com tipo aleatÃ³rio e ID sequencial</p>
<p>Esta funÃ§Ã£o Ã© responsÃ¡vel por criar novas peÃ§as para o jogo:</p><ol type="1">
<li>Seleciona aleatoriamente um tipo de peÃ§a entre os disponÃ­veis</li>
<li>Atribui um ID Ãºnico e sequencial</li>
<li>Incrementa o contador global para prÃ³ximas peÃ§as</li>
</ol>
<p>Tipos de peÃ§as disponÃ­veis:</p><ul>
<li>'I': PeÃ§a em linha reta (4 blocos)</li>
<li>'O': PeÃ§a quadrada (2x2 blocos)</li>
<li>'T': PeÃ§a em formato T</li>
<li>'L': PeÃ§a em formato L</li>
</ul>
<dl class="section return"><dt>Retorna</dt><dd>Peca Nova peÃ§a gerada com tipo aleatÃ³rio e ID Ãºnico</dd></dl>
<dl class="section note"><dt>Nota</dt><dd>A funÃ§Ã£o utiliza rand() % 4 para seleÃ§Ã£o aleatÃ³ria </dd>
<dd>
O ID Ã© atribuÃ­do automaticamente pelo contadorIdGlobal </dd>
<dd>
Requer inicializaÃ§Ã£o prÃ©via do gerador aleatÃ³rio com srand()</dd></dl>
<dl class="section see"><dt>Veja tambÃ©m</dt><dd>contadorIdGlobal </dd>
<dd>
srand()</dd></dl>
<div class="fragment"><div class="line"><span class="comment">// Inicializar gerador aleatÃ³rio</span></div>
<div class="line">srand(time(NULL));</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Gerar nova peÃ§a</span></div>
<div class="line">Peca novaPeca = gerarNovaPeca();</div>
<div class="line">printf(<span class="stringliteral">&quot;PeÃ§a gerada: %c%d\n&quot;</span>, novaPeca.tipo, novaPeca.id);</div>
</div><!-- fragment --><div class="fragment"><div class="line"></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> <a id="a0" name="a0"></a><a class="code hl_function" href="tetris_8c.html#aaf4095c9b2ba3b00995bac973f037a2d">inicializarSistemaExpert</a>(SistemaExpert* sistemaPtr) {</div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    <span class="comment">//                    SISTEMA DE PONTUAÃ‡ÃƒO</span></div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    sistemaPtr-&gt;pontuacaoTotal = 0;          <span class="comment">// PontuaÃ§Ã£o acumulada desde o inÃ­cio</span></div>
<div class="line">    sistemaPtr-&gt;pontuacaoNivel = 0;          <span class="comment">// Pontos no nÃ­vel atual (reset a cada level up)</span></div>
<div class="line">    sistemaPtr-&gt;multiplicadorAtual = 1;      <span class="comment">// Multiplicador base (aumenta com combos)</span></div>
<div class="line">    sistemaPtr-&gt;pontosUltimaJogada = 0;      <span class="comment">// Cache dos pontos da Ãºltima jogada</span></div>
<div class="line">    </div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    <span class="comment">//                    SISTEMA DE COMBOS</span></div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    sistemaPtr-&gt;comboAtual = 0;              <span class="comment">// SequÃªncia atual de combos consecutivos</span></div>
<div class="line">    sistemaPtr-&gt;melhorCombo = 0;             <span class="comment">// Recorde de combos em uma sequÃªncia</span></div>
<div class="line">    sistemaPtr-&gt;totalCombos = 0;             <span class="comment">// Total de combos realizados na sessÃ£o</span></div>
<div class="line">    sistemaPtr-&gt;ultimoTipoJogado = <span class="charliteral">&#39;\0&#39;</span>;     <span class="comment">// Cache do Ãºltimo tipo para detecÃ§Ã£o de combo</span></div>
<div class="line">    sistemaPtr-&gt;sequenciaTipoAtual = 0;      <span class="comment">// Contador da sequÃªncia do mesmo tipo</span></div>
<div class="line">    </div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    <span class="comment">//                   NÃVEIS DE DIFICULDADE</span></div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    sistemaPtr-&gt;nivelAtual = 1;              <span class="comment">// NÃ­vel inicial (1-10)</span></div>
<div class="line">    sistemaPtr-&gt;pontosParaProximoNivel = 1000; <span class="comment">// Pontos necessÃ¡rios para prÃ³ximo nÃ­vel</span></div>
<div class="line">    sistemaPtr-&gt;limitePontosNivel = 1000;    <span class="comment">// Limite atual do nÃ­vel (aumenta progressivamente)</span></div>
<div class="line">    sistemaPtr-&gt;fatorDificuldade = 1.0;      <span class="comment">// Multiplicador de dificuldade (1.0-3.0)</span></div>
<div class="line">    </div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    <span class="comment">//                  ESTATÃSTICAS AVANÃ‡ADAS</span></div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    sistemaPtr-&gt;totalJogadas = 0;            <span class="comment">// Total de peÃ§as jogadas na sessÃ£o</span></div>
<div class="line">    sistemaPtr-&gt;jogadasDaFila = 0;           <span class="comment">// PeÃ§as jogadas diretamente da fila</span></div>
<div class="line">    sistemaPtr-&gt;jogadasDaPilha = 0;          <span class="comment">// PeÃ§as jogadas da pilha de reserva</span></div>
<div class="line">    sistemaPtr-&gt;pecasReservadas = 0;         <span class="comment">// Total de peÃ§as reservadas</span></div>
<div class="line">    sistemaPtr-&gt;eficienciaReserva = 0;       <span class="comment">// Percentual de uso eficiente da reserva</span></div>
<div class="line">    </div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    <span class="comment">//                 ESTATÃSTICAS POR TIPO DE PEÃ‡A</span></div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    sistemaPtr-&gt;contagemTipoI = 0;           <span class="comment">// Contador de peÃ§as tipo &#39;I&#39; (linha)</span></div>
<div class="line">    sistemaPtr-&gt;contagemTipoO = 0;           <span class="comment">// Contador de peÃ§as tipo &#39;O&#39; (quadrado)</span></div>
<div class="line">    sistemaPtr-&gt;contagemTipoT = 0;           <span class="comment">// Contador de peÃ§as tipo &#39;T&#39; (T-shape)</span></div>
<div class="line">    sistemaPtr-&gt;contagemTipoL = 0;           <span class="comment">// Contador de peÃ§as tipo &#39;L&#39; (L-shape)</span></div>
<div class="line">    sistemaPtr-&gt;tipoMaisJogado = <span class="charliteral">&#39;\0&#39;</span>;       <span class="comment">// Cache do tipo mais utilizado</span></div>
<div class="line">    </div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    <span class="comment">//                 CONQUISTAS E MARCOS</span></div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    sistemaPtr-&gt;conquistasDesbloqueadas = 0; <span class="comment">// Bitmask das conquistas (0 = nenhuma)</span></div>
<div class="line">    sistemaPtr-&gt;marcosAlcancados = 0;        <span class="comment">// Contador de marcos especiais</span></div>
<div class="line">    sistemaPtr-&gt;recordePessoal = 0;          <span class="comment">// Maior pontuaÃ§Ã£o jÃ¡ alcanÃ§ada</span></div>
<div class="line">    </div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    <span class="comment">//                    SISTEMA DE CONQUISTAS</span></div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    sistemaPtr-&gt;conquistasDesbloqueadas = 0;</div>
<div class="line">    sistemaPtr-&gt;marcosAlcancados = 0;</div>
<div class="line">    sistemaPtr-&gt;recordePessoal = 0;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> <a id="a1" name="a1"></a><a class="code hl_function" href="tetris_8c.html#a9e02dcf454b4b8d211118be482b21b49">calcularPontuacao</a>(<span class="keywordtype">char</span> tipoPeca, SistemaExpert* sistemaPtr) {</div>
<div class="line">    <span class="keywordtype">int</span> pontosBase = 0;</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    <span class="comment">//              PONTUAÃ‡ÃƒO BASE POR TIPO DE PEÃ‡A</span></div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    <span class="comment">// Cada tipo de peÃ§a tem valor diferente baseado na complexidade</span></div>
<div class="line">    <span class="keywordflow">switch</span> (tipoPeca) {</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;I&#39;</span>: pontosBase = 100; <span class="keywordflow">break</span>;  <span class="comment">// Linha - mais comum, menor valor</span></div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;O&#39;</span>: pontosBase = 120; <span class="keywordflow">break</span>;  <span class="comment">// Quadrado - versÃ¡til, valor mÃ©dio</span></div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;T&#39;</span>: pontosBase = 150; <span class="keywordflow">break</span>;  <span class="comment">// T - estratÃ©gico, valor alto</span></div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;L&#39;</span>: pontosBase = 180; <span class="keywordflow">break</span>;  <span class="comment">// L - mais complexo, maior valor</span></div>
<div class="line">        <span class="keywordflow">default</span>:  pontosBase = 50;  <span class="keywordflow">break</span>;  <span class="comment">// Fallback para tipos invÃ¡lidos</span></div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    <span class="comment">//                  APLICAÃ‡ÃƒO DE MULTIPLICADORES</span></div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    <span class="comment">// FÃ³rmula: PontosBase Ã— MultiplicadorCombo Ã— FatorDificuldade</span></div>
<div class="line">    <span class="keywordtype">int</span> pontosFinais = (int)(pontosBase * sistemaPtr-&gt;multiplicadorAtual * sistemaPtr-&gt;fatorDificuldade);</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span> pontosFinais;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> <a id="a2" name="a2"></a><a class="code hl_function" href="tetris_8c.html#a2905e073b3d5b998d159f5f17d0d1f9a">detectarCombo</a>(<span class="keywordtype">char</span> tipoPeca, SistemaExpert* sistemaPtr) {</div>
<div class="line">    <span class="keywordtype">int</span> comboFormado = 0;</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    <span class="comment">//                    VERIFICAÃ‡ÃƒO DE SEQUÃŠNCIA</span></div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    <span class="keywordflow">if</span> (sistemaPtr-&gt;ultimoTipoJogado == tipoPeca) {</div>
<div class="line">        <span class="comment">// Continua sequÃªncia do mesmo tipo de peÃ§a</span></div>
<div class="line">        sistemaPtr-&gt;sequenciaTipoAtual++;</div>
<div class="line">        </div>
<div class="line">        <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">        <span class="comment">//                   FORMAÃ‡ÃƒO DE COMBO</span></div>
<div class="line">        <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">        <span class="comment">// Combo Ã© formado a partir de 3 peÃ§as iguais consecutivas</span></div>
<div class="line">        <span class="keywordflow">if</span> (sistemaPtr-&gt;sequenciaTipoAtual &gt;= 3) {</div>
<div class="line">            sistemaPtr-&gt;comboAtual++;           <span class="comment">// Incrementa combo atual</span></div>
<div class="line">            sistemaPtr-&gt;totalCombos++;          <span class="comment">// Incrementa total de combos</span></div>
<div class="line">            comboFormado = 1;                   <span class="comment">// Sinaliza que combo foi formado</span></div>
<div class="line">            </div>
<div class="line">            <span class="comment">// Atualiza recorde de melhor combo da sessÃ£o</span></div>
<div class="line">            <span class="keywordflow">if</span> (sistemaPtr-&gt;comboAtual &gt; sistemaPtr-&gt;melhorCombo) {</div>
<div class="line">                sistemaPtr-&gt;melhorCombo = sistemaPtr-&gt;comboAtual;</div>
<div class="line">            }</div>
<div class="line">            </div>
<div class="line">            <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">            <span class="comment">//                AUMENTO DO MULTIPLICADOR</span></div>
<div class="line">            <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">            <span class="comment">// Multiplicador aumenta com combos (mÃ¡ximo 10x)</span></div>
<div class="line">            <span class="keywordflow">if</span> (sistemaPtr-&gt;multiplicadorAtual &lt; 10) {</div>
<div class="line">                sistemaPtr-&gt;multiplicadorAtual++;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">        <span class="comment">//                    QUEBRA DE SEQUÃŠNCIA</span></div>
<div class="line">        <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">        <span class="comment">// Tipo diferente quebra a sequÃªncia - reset dos combos</span></div>
<div class="line">        sistemaPtr-&gt;comboAtual = 0;             <span class="comment">// Zera combo atual</span></div>
<div class="line">        sistemaPtr-&gt;sequenciaTipoAtual = 1;     <span class="comment">// Inicia nova sequÃªncia</span></div>
<div class="line">        sistemaPtr-&gt;multiplicadorAtual = 1;     <span class="comment">// Reset multiplicador</span></div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Atualiza cache do Ãºltimo tipo jogado para prÃ³xima verificaÃ§Ã£o</span></div>
<div class="line">    sistemaPtr-&gt;ultimoTipoJogado = tipoPeca;</div>
<div class="line">    <span class="keywordflow">return</span> comboFormado;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> <a id="a3" name="a3"></a><a class="code hl_function" href="tetris_8c.html#a6165ae6c43b73bd06d2efbe452b039aa">verificarProgressaoNivel</a>(SistemaExpert* sistemaPtr) {</div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    <span class="comment">//                    VERIFICAÃ‡ÃƒO DE PROGRESSÃƒO</span></div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    <span class="comment">// Verifica se atingiu pontuaÃ§Ã£o necessÃ¡ria para prÃ³ximo nÃ­vel</span></div>
<div class="line">    <span class="keywordflow">if</span> (sistemaPtr-&gt;pontuacaoNivel &gt;= sistemaPtr-&gt;limitePontosNivel) {</div>
<div class="line">        </div>
<div class="line">        <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">        <span class="comment">//                    AVANÃ‡O DE NÃVEL</span></div>
<div class="line">        <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">        sistemaPtr-&gt;nivelAtual++;           <span class="comment">// Incrementa nÃ­vel atual</span></div>
<div class="line">        sistemaPtr-&gt;pontuacaoNivel = 0;     <span class="comment">// Reset pontuaÃ§Ã£o do nÃ­vel</span></div>
<div class="line">        </div>
<div class="line">        <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">        <span class="comment">//                AJUSTE DE DIFICULDADE PROGRESSIVA</span></div>
<div class="line">        <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">        <span class="comment">// Aumenta dificuldade progressivamente (mÃ¡ximo 3.0x)</span></div>
<div class="line">        <span class="keywordflow">if</span> (sistemaPtr-&gt;fatorDificuldade &lt; 3.0) {</div>
<div class="line">            sistemaPtr-&gt;fatorDificuldade += 0.2;  <span class="comment">// Incremento de 20% por nÃ­vel</span></div>
<div class="line">        }</div>
<div class="line">        </div>
<div class="line">        <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">        <span class="comment">//              CÃLCULO EXPONENCIAL DO PRÃ“XIMO NÃVEL</span></div>
<div class="line">        <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">        <span class="comment">// FÃ³rmula: 1000 * nÃ­velÂ² (progressÃ£o quadrÃ¡tica)</span></div>
<div class="line">        <span class="comment">// NÃ­vel 1: 1.000 pts | NÃ­vel 2: 4.000 pts | NÃ­vel 3: 9.000 pts</span></div>
<div class="line">        sistemaPtr-&gt;limitePontosNivel = 1000 * sistemaPtr-&gt;nivelAtual * sistemaPtr-&gt;nivelAtual;</div>
<div class="line">        sistemaPtr-&gt;pontosParaProximoNivel = sistemaPtr-&gt;limitePontosNivel;</div>
<div class="line">        </div>
<div class="line">        <span class="keywordflow">return</span> 1; <span class="comment">// ConfirmaÃ§Ã£o: subiu de nÃ­vel</span></div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    <span class="comment">//                ATUALIZAÃ‡ÃƒO DE PONTOS RESTANTES</span></div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    <span class="comment">// Calcula quantos pontos faltam para o prÃ³ximo nÃ­vel</span></div>
<div class="line">    sistemaPtr-&gt;pontosParaProximoNivel = sistemaPtr-&gt;limitePontosNivel - sistemaPtr-&gt;pontuacaoNivel;</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span> 0; <span class="comment">// NÃ£o houve progressÃ£o de nÃ­vel</span></div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> <a id="a4" name="a4"></a><a class="code hl_function" href="tetris_8c.html#adeea4c9bfd48c9c3fe2e6be1687df862">processarJogadaExpert</a>(Peca peca, <span class="keywordtype">int</span> origem, SistemaExpert* sistemaPtr) {</div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    <span class="comment">//                    CÃLCULO DE PONTUAÃ‡ÃƒO</span></div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    <span class="comment">// Calcula pontuaÃ§Ã£o considerando tipo, multiplicador e dificuldade</span></div>
<div class="line">    <span class="keywordtype">int</span> pontos = <a class="code hl_function" href="tetris_8c.html#a9e02dcf454b4b8d211118be482b21b49">calcularPontuacao</a>(peca.tipo, sistemaPtr);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    <span class="comment">//                    DETECÃ‡ÃƒO DE COMBOS</span></div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    <span class="comment">// Verifica se forma combo e ajusta multiplicador automaticamente</span></div>
<div class="line">    <span class="keywordtype">int</span> combo = <a class="code hl_function" href="tetris_8c.html#a2905e073b3d5b998d159f5f17d0d1f9a">detectarCombo</a>(peca.tipo, sistemaPtr);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    <span class="comment">//                 ATUALIZAÃ‡ÃƒO DE PONTUAÃ‡Ã•ES</span></div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    sistemaPtr-&gt;pontosUltimaJogada = pontos;    <span class="comment">// Cache para exibiÃ§Ã£o</span></div>
<div class="line">    sistemaPtr-&gt;pontuacaoTotal += pontos;       <span class="comment">// Acumula pontuaÃ§Ã£o total</span></div>
<div class="line">    sistemaPtr-&gt;pontuacaoNivel += pontos;       <span class="comment">// Acumula pontos do nÃ­vel</span></div>
<div class="line">    </div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    <span class="comment">//                  ATUALIZAÃ‡ÃƒO DE RECORDE</span></div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    <span class="comment">// Verifica e atualiza recorde pessoal se necessÃ¡rio</span></div>
<div class="line">    <span class="keywordflow">if</span> (sistemaPtr-&gt;pontuacaoTotal &gt; sistemaPtr-&gt;recordePessoal) {</div>
<div class="line">        sistemaPtr-&gt;recordePessoal = sistemaPtr-&gt;pontuacaoTotal;</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    <span class="comment">//                ESTATÃSTICAS DE ORIGEM DAS JOGADAS</span></div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    sistemaPtr-&gt;totalJogadas++;                 <span class="comment">// Incrementa total geral</span></div>
<div class="line">    <span class="keywordflow">if</span> (origem == 1) {</div>
<div class="line">        sistemaPtr-&gt;jogadasDaFila++;            <span class="comment">// PeÃ§a veio da fila</span></div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        sistemaPtr-&gt;jogadasDaPilha++;           <span class="comment">// PeÃ§a veio da pilha reserva</span></div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    <span class="comment">//              CONTAGEM POR TIPO DE PEÃ‡A</span></div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    <span class="comment">// Incrementa contador especÃ­fico do tipo jogado</span></div>
<div class="line">    <span class="keywordflow">switch</span> (peca.tipo) {</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;I&#39;</span>: sistemaPtr-&gt;contagemTipoI++; <span class="keywordflow">break</span>;  <span class="comment">// Linha</span></div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;O&#39;</span>: sistemaPtr-&gt;contagemTipoO++; <span class="keywordflow">break</span>;  <span class="comment">// Quadrado</span></div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;T&#39;</span>: sistemaPtr-&gt;contagemTipoT++; <span class="keywordflow">break</span>;  <span class="comment">// T-shape</span></div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;L&#39;</span>: sistemaPtr-&gt;contagemTipoL++; <span class="keywordflow">break</span>;  <span class="comment">// L-shape</span></div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    <span class="comment">//            DETERMINAÃ‡ÃƒO DO TIPO MAIS JOGADO</span></div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    <span class="comment">// Algoritmo para encontrar o tipo com maior contagem</span></div>
<div class="line">    <span class="keywordtype">int</span> maxContagem = 0;</div>
<div class="line">    <span class="keywordflow">if</span> (sistemaPtr-&gt;contagemTipoI &gt; maxContagem) {</div>
<div class="line">        maxContagem = sistemaPtr-&gt;contagemTipoI;</div>
<div class="line">        sistemaPtr-&gt;tipoMaisJogado = <span class="charliteral">&#39;I&#39;</span>;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (sistemaPtr-&gt;contagemTipoO &gt; maxContagem) {</div>
<div class="line">        maxContagem = sistemaPtr-&gt;contagemTipoO;</div>
<div class="line">        sistemaPtr-&gt;tipoMaisJogado = <span class="charliteral">&#39;O&#39;</span>;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (sistemaPtr-&gt;contagemTipoT &gt; maxContagem) {</div>
<div class="line">        maxContagem = sistemaPtr-&gt;contagemTipoT;</div>
<div class="line">        sistemaPtr-&gt;tipoMaisJogado = <span class="charliteral">&#39;T&#39;</span>;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (sistemaPtr-&gt;contagemTipoL &gt; maxContagem) {</div>
<div class="line">        maxContagem = sistemaPtr-&gt;contagemTipoL;</div>
<div class="line">        sistemaPtr-&gt;tipoMaisJogado = <span class="charliteral">&#39;L&#39;</span>;</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    <span class="comment">//                 CÃLCULO DE EFICIÃŠNCIA DA RESERVA</span></div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    <span class="comment">// Calcula percentual de uso eficiente da pilha de reserva</span></div>
<div class="line">    <span class="keywordflow">if</span> (sistemaPtr-&gt;totalJogadas &gt; 0) {</div>
<div class="line">        sistemaPtr-&gt;eficienciaReserva = (sistemaPtr-&gt;jogadasDaPilha * 100) / sistemaPtr-&gt;totalJogadas;</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    <span class="comment">//                    VERIFICAÃ‡ÃƒO DE PROGRESSÃƒO</span></div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    <span class="comment">// Verifica se houve progressÃ£o de nÃ­vel apÃ³s a jogada</span></div>
<div class="line">    <a class="code hl_function" href="tetris_8c.html#a6165ae6c43b73bd06d2efbe452b039aa">verificarProgressaoNivel</a>(sistemaPtr);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> exibirEstatisticasExpert(SistemaExpert* sistemaPtr) {</div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    <span class="comment">//                    CABEÃ‡ALHO PRINCIPAL</span></div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    printf(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â•‘                        ğŸ† ESTATÃSTICAS EXPERT - NÃVEL %2d                     â•‘\n&quot;</span>, sistemaPtr-&gt;nivelAtual);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£\n&quot;</span>);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    <span class="comment">//                    PONTUAÃ‡ÃƒO E PROGRESSÃƒO</span></div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    printf(<span class="stringliteral">&quot;â•‘ ğŸ“Š PONTUAÃ‡ÃƒO E PROGRESSÃƒO                                                     â•‘\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â•‘   â€¢ PontuaÃ§Ã£o Total: %8d pontos                                           â•‘\n&quot;</span>, sistemaPtr-&gt;pontuacaoTotal);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Barra de progresso do nÃ­vel</span></div>
<div class="line">    <span class="keywordtype">int</span> progresso = (sistemaPtr-&gt;pontuacaoNivel * 20) / sistemaPtr-&gt;limitePontosNivel;</div>
<div class="line">    printf(<span class="stringliteral">&quot;â•‘   â€¢ Progresso do NÃ­vel: [&quot;</span>);</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 20; i++) {</div>
<div class="line">        printf(i &lt; progresso ? <span class="stringliteral">&quot;â–ˆ&quot;</span> : <span class="stringliteral">&quot;â–‘&quot;</span>);</div>
<div class="line">    }</div>
<div class="line">    printf(<span class="stringliteral">&quot;] %d%%                    â•‘\n&quot;</span>, (sistemaPtr-&gt;pontuacaoNivel * 100) / sistemaPtr-&gt;limitePontosNivel);</div>
<div class="line">    </div>
<div class="line">    printf(<span class="stringliteral">&quot;â•‘   â€¢ PontuaÃ§Ã£o do NÃ­vel: %d/%d pontos                                         â•‘\n&quot;</span>, </div>
<div class="line">           sistemaPtr-&gt;pontuacaoNivel, sistemaPtr-&gt;limitePontosNivel);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â•‘   â€¢ Pontos para PrÃ³ximo: %8d pontos                                       â•‘\n&quot;</span>, sistemaPtr-&gt;pontosParaProximoNivel);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â•‘   â€¢ Multiplicador Atual: %2dx                                                 â•‘\n&quot;</span>, sistemaPtr-&gt;multiplicadorAtual);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â•‘   â€¢ Fator de Dificuldade: %.1fx                                              â•‘\n&quot;</span>, sistemaPtr-&gt;fatorDificuldade);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â•‘   â€¢ Recorde Pessoal: %8d pontos                                           â•‘\n&quot;</span>, sistemaPtr-&gt;recordePessoal);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â•‘                                                                               â•‘\n&quot;</span>);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    <span class="comment">//                    COMBOS E SEQUÃŠNCIAS</span></div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    printf(<span class="stringliteral">&quot;â•‘ ğŸ”¥ COMBOS E SEQUÃŠNCIAS                                                        â•‘\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â•‘   â€¢ Combo Atual: %3d sequÃªncias                                              â•‘\n&quot;</span>, sistemaPtr-&gt;comboAtual);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â•‘   â€¢ Melhor Combo: %3d sequÃªncias                                             â•‘\n&quot;</span>, sistemaPtr-&gt;melhorCombo);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â•‘   â€¢ Total de Combos: %3d combos                                              â•‘\n&quot;</span>, sistemaPtr-&gt;totalCombos);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â•‘   â€¢ Ãšltimo Tipo: %c | SequÃªncia Atual: %2d peÃ§as                            â•‘\n&quot;</span>, </div>
<div class="line">           sistemaPtr-&gt;ultimoTipoJogado ? sistemaPtr-&gt;ultimoTipoJogado : <span class="charliteral">&#39;-&#39;</span>, </div>
<div class="line">           sistemaPtr-&gt;sequenciaTipoAtual);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â•‘                                                                               â•‘\n&quot;</span>);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    <span class="comment">//                  ESTATÃSTICAS POR TIPO</span></div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    printf(<span class="stringliteral">&quot;â•‘ ğŸ¯ ESTATÃSTICAS POR TIPO DE PEÃ‡A                                             â•‘\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â•‘   â€¢ Tipo I (Linha):    %4d peÃ§as | Tipo O (Quadrado): %4d peÃ§as            â•‘\n&quot;</span>, </div>
<div class="line">           sistemaPtr-&gt;contagemTipoI, sistemaPtr-&gt;contagemTipoO);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â•‘   â€¢ Tipo T (T-Shape):  %4d peÃ§as | Tipo L (L-Shape):  %4d peÃ§as            â•‘\n&quot;</span>, </div>
<div class="line">           sistemaPtr-&gt;contagemTipoT, sistemaPtr-&gt;contagemTipoL);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â•‘   â€¢ Tipo Mais Jogado: %c                                                     â•‘\n&quot;</span>, </div>
<div class="line">           sistemaPtr-&gt;tipoMaisJogado ? sistemaPtr-&gt;tipoMaisJogado : <span class="charliteral">&#39;-&#39;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â•‘                                                                               â•‘\n&quot;</span>);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    <span class="comment">//                    EFICIÃŠNCIA DE JOGO</span></div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    printf(<span class="stringliteral">&quot;â•‘ âš¡ EFICIÃŠNCIA DE JOGO                                                         â•‘\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â•‘   â€¢ Total de Jogadas: %4d peÃ§as                                              â•‘\n&quot;</span>, sistemaPtr-&gt;totalJogadas);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â•‘   â€¢ Fila: %4d peÃ§as | Pilha: %4d peÃ§as | Reservadas: %4d peÃ§as             â•‘\n&quot;</span>, </div>
<div class="line">           sistemaPtr-&gt;jogadasDaFila, sistemaPtr-&gt;jogadasDaPilha, sistemaPtr-&gt;pecasReservadas);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Barra de eficiÃªncia da reserva</span></div>
<div class="line">    <span class="keywordtype">int</span> eficiencia = sistemaPtr-&gt;eficienciaReserva &gt; 100 ? 100 : sistemaPtr-&gt;eficienciaReserva;</div>
<div class="line">    <span class="keywordtype">int</span> barrasEficiencia = eficiencia / 5; <span class="comment">// 20 barras mÃ¡ximo</span></div>
<div class="line">    printf(<span class="stringliteral">&quot;â•‘   â€¢ EficiÃªncia Reserva: [&quot;</span>);</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 20; i++) {</div>
<div class="line">        printf(i &lt; barrasEficiencia ? <span class="stringliteral">&quot;â–ˆ&quot;</span> : <span class="stringliteral">&quot;â–‘&quot;</span>);</div>
<div class="line">    }</div>
<div class="line">    printf(<span class="stringliteral">&quot;] %3d%%                    â•‘\n&quot;</span>, eficiencia);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â•‘                                                                               â•‘\n&quot;</span>);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    <span class="comment">//                    CONQUISTAS E MARCOS</span></div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    printf(<span class="stringliteral">&quot;â•‘ ğŸ… CONQUISTAS E MARCOS                                                        â•‘\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â•‘   â€¢ Conquistas: %2d desbloqueadas | Marcos: %2d alcanÃ§ados                   â•‘\n&quot;</span>, </div>
<div class="line">           sistemaPtr-&gt;conquistasDesbloqueadas, sistemaPtr-&gt;marcosAlcancados);</div>
<div class="line"><span class="keywordtype">int</span> otimizarSistemaExpert(SistemaExpert* sistemaPtr) {</div>
<div class="line">    <span class="keywordflow">if</span> (sistemaPtr == NULL) <span class="keywordflow">return</span> 0;</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    <span class="comment">//                    VALIDAÃ‡ÃƒO DE INTEGRIDADE</span></div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Corrigir valores negativos ou inconsistentes</span></div>
<div class="line">    <span class="keywordflow">if</span> (sistemaPtr-&gt;pontuacaoTotal &lt; 0) sistemaPtr-&gt;pontuacaoTotal = 0;</div>
<div class="line">    <span class="keywordflow">if</span> (sistemaPtr-&gt;pontuacaoNivel &lt; 0) sistemaPtr-&gt;pontuacaoNivel = 0;</div>
<div class="line">    <span class="keywordflow">if</span> (sistemaPtr-&gt;multiplicadorAtual &lt; 1) sistemaPtr-&gt;multiplicadorAtual = 1;</div>
<div class="line">    <span class="keywordflow">if</span> (sistemaPtr-&gt;multiplicadorAtual &gt; 10) sistemaPtr-&gt;multiplicadorAtual = 10;</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Validar nÃ­vel atual</span></div>
<div class="line">    <span class="keywordflow">if</span> (sistemaPtr-&gt;nivelAtual &lt; 1) sistemaPtr-&gt;nivelAtual = 1;</div>
<div class="line">    <span class="keywordflow">if</span> (sistemaPtr-&gt;nivelAtual &gt; 10) sistemaPtr-&gt;nivelAtual = 10;</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    <span class="comment">//                    OTIMIZAÃ‡ÃƒO DE CÃLCULOS</span></div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Recalcular eficiÃªncia da reserva</span></div>
<div class="line">    <span class="keywordflow">if</span> (sistemaPtr-&gt;totalJogadas &gt; 0) {</div>
<div class="line">        <span class="keywordtype">int</span> usoReserva = (sistemaPtr-&gt;jogadasDaPilha * 100) / sistemaPtr-&gt;totalJogadas;</div>
<div class="line">        sistemaPtr-&gt;eficienciaReserva = usoReserva &gt; 100 ? 100 : usoReserva;</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Determinar tipo mais jogado</span></div>
<div class="line">    <span class="keywordtype">int</span> maxContagem = 0;</div>
<div class="line">    <span class="keywordtype">char</span> tipoMax = <span class="charliteral">&#39;I&#39;</span>;</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">if</span> (sistemaPtr-&gt;contagemTipoI &gt; maxContagem) {</div>
<div class="line">        maxContagem = sistemaPtr-&gt;contagemTipoI;</div>
<div class="line">        tipoMax = <span class="charliteral">&#39;I&#39;</span>;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (sistemaPtr-&gt;contagemTipoO &gt; maxContagem) {</div>
<div class="line">        maxContagem = sistemaPtr-&gt;contagemTipoO;</div>
<div class="line">        tipoMax = <span class="charliteral">&#39;O&#39;</span>;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (sistemaPtr-&gt;contagemTipoT &gt; maxContagem) {</div>
<div class="line">        maxContagem = sistemaPtr-&gt;contagemTipoT;</div>
<div class="line">        tipoMax = <span class="charliteral">&#39;T&#39;</span>;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (sistemaPtr-&gt;contagemTipoL &gt; maxContagem) {</div>
<div class="line">        maxContagem = sistemaPtr-&gt;contagemTipoL;</div>
<div class="line">        tipoMax = <span class="charliteral">&#39;L&#39;</span>;</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    sistemaPtr-&gt;tipoMaisJogado = tipoMax;</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    <span class="comment">//                    AJUSTES DE DIFICULDADE</span></div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Ajustar fator de dificuldade baseado no nÃ­vel</span></div>
<div class="line">    sistemaPtr-&gt;fatorDificuldade = 1.0 + (sistemaPtr-&gt;nivelAtual - 1) * 0.2;</div>
<div class="line">    <span class="keywordflow">if</span> (sistemaPtr-&gt;fatorDificuldade &gt; 3.0) sistemaPtr-&gt;fatorDificuldade = 3.0;</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Atualizar recorde pessoal</span></div>
<div class="line">    <span class="keywordflow">if</span> (sistemaPtr-&gt;pontuacaoTotal &gt; sistemaPtr-&gt;recordePessoal) {</div>
<div class="line">        sistemaPtr-&gt;recordePessoal = sistemaPtr-&gt;pontuacaoTotal;</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span> 1; <span class="comment">// OtimizaÃ§Ã£o bem-sucedida</span></div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> gerarRelatorioExpert(SistemaExpert* sistemaPtr) {</div>
<div class="line">    printf(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â•‘                        ğŸ“Š RELATÃ“RIO EXPERT DETALHADO                         â•‘\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£\n&quot;</span>);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    <span class="comment">//                    ANÃLISE DE PERFORMANCE</span></div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    printf(<span class="stringliteral">&quot;â•‘ ğŸ¯ ANÃLISE DE PERFORMANCE                                                     â•‘\n&quot;</span>);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Calcular mÃ©dia de pontos por jogada</span></div>
<div class="line">    <span class="keywordtype">double</span> mediaPontos = sistemaPtr-&gt;totalJogadas &gt; 0 ? </div>
<div class="line">        (double)sistemaPtr-&gt;pontuacaoTotal / sistemaPtr-&gt;totalJogadas : 0.0;</div>
<div class="line">    </div>
<div class="line">    printf(<span class="stringliteral">&quot;â•‘   â€¢ MÃ©dia de Pontos/Jogada: %.2f pontos                                      â•‘\n&quot;</span>, mediaPontos);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â•‘   â€¢ Taxa de Combo: %.1f%% (combos/jogadas)                                   â•‘\n&quot;</span>, </div>
<div class="line">           sistemaPtr-&gt;totalJogadas &gt; 0 ? </div>
<div class="line">           (sistemaPtr-&gt;totalCombos * 100.0) / sistemaPtr-&gt;totalJogadas : 0.0);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// AnÃ¡lise de distribuiÃ§Ã£o de peÃ§as</span></div>
<div class="line">    <span class="keywordtype">int</span> totalPecasTipo = sistemaPtr-&gt;contagemTipoI + sistemaPtr-&gt;contagemTipoO + </div>
<div class="line">                        sistemaPtr-&gt;contagemTipoT + sistemaPtr-&gt;contagemTipoL;</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">if</span> (totalPecasTipo &gt; 0) {</div>
<div class="line">        printf(<span class="stringliteral">&quot;â•‘   â€¢ DistribuiÃ§Ã£o: I=%.1f%% O=%.1f%% T=%.1f%% L=%.1f%%                        â•‘\n&quot;</span>,</div>
<div class="line">               (sistemaPtr-&gt;contagemTipoI * 100.0) / totalPecasTipo,</div>
<div class="line">               (sistemaPtr-&gt;contagemTipoO * 100.0) / totalPecasTipo,</div>
<div class="line">               (sistemaPtr-&gt;contagemTipoT * 100.0) / totalPecasTipo,</div>
<div class="line">               (sistemaPtr-&gt;contagemTipoL * 100.0) / totalPecasTipo);</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    printf(<span class="stringliteral">&quot;â•‘                                                                               â•‘\n&quot;</span>);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    <span class="comment">//                    RECOMENDAÃ‡Ã•ES ESTRATÃ‰GICAS</span></div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    printf(<span class="stringliteral">&quot;â•‘ ğŸ’¡ RECOMENDAÃ‡Ã•ES ESTRATÃ‰GICAS                                                 â•‘\n&quot;</span>);</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">if</span> (sistemaPtr-&gt;eficienciaReserva &lt; 30) {</div>
<div class="line">        printf(<span class="stringliteral">&quot;â•‘   â€¢ Use mais a reserva para otimizar sequÃªncias                              â•‘\n&quot;</span>);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (sistemaPtr-&gt;melhorCombo &lt; 5) {</div>
<div class="line">        printf(<span class="stringliteral">&quot;â•‘   â€¢ Foque em formar combos maiores para multiplicadores                      â•‘\n&quot;</span>);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (sistemaPtr-&gt;multiplicadorAtual &lt; 3) {</div>
<div class="line">        printf(<span class="stringliteral">&quot;â•‘   â€¢ Mantenha sequÃªncias para aumentar multiplicadores                        â•‘\n&quot;</span>);</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    printf(<span class="stringliteral">&quot;â•‘   â€¢ PrÃ³ximo marco: %d pontos para nÃ­vel %d                                   â•‘\n&quot;</span>,</div>
<div class="line">           sistemaPtr-&gt;pontosParaProximoNivel, sistemaPtr-&gt;nivelAtual + 1);</div>
<div class="line">    </div>
<div class="line">    printf(<span class="stringliteral">&quot;â•‘                                                                               â•‘\n&quot;</span>);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    <span class="comment">//                    PROJEÃ‡Ã•ES DE MELHORIA</span></div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    printf(<span class="stringliteral">&quot;â•‘ ğŸ“ˆ PROJEÃ‡Ã•ES DE MELHORIA                                                      â•‘\n&quot;</span>);</div>
<div class="line">    </div>
<div class="line">    <span class="keywordtype">int</span> jogadasParaProximoNivel = sistemaPtr-&gt;pontosParaProximoNivel / </div>
<div class="line">                                 (mediaPontos &gt; 0 ? (int)mediaPontos : 1);</div>
<div class="line">    </div>
<div class="line">    printf(<span class="stringliteral">&quot;â•‘   â€¢ Jogadas estimadas para prÃ³ximo nÃ­vel: ~%d peÃ§as                         â•‘\n&quot;</span>, </div>
<div class="line">           jogadasParaProximoNivel);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â•‘   â€¢ Potencial de melhoria: %dx com combos otimizados                         â•‘\n&quot;</span>, </div>
<div class="line">           10 - sistemaPtr-&gt;multiplicadorAtual);</div>
<div class="line">    </div>
<div class="line">    printf(<span class="stringliteral">&quot;â•‘                                                                               â•‘\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n&quot;</span>);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> * <span class="comment">// InicializaÃ§Ã£o das estruturas</span></div>
<div class="line"> * FilaCircular fila;</div>
<div class="line"> * PilhaReserva pilha;</div>
<div class="line"> * inicializarFilaCircular(&amp;fila);</div>
<div class="line"> * inicializarPilhaReserva(&amp;pilha);</div>
<div class="line"> * </div>
<div class="line"> * <span class="comment">// GeraÃ§Ã£o e inserÃ§Ã£o de peÃ§a</span></div>
<div class="line"> * Peca novaPeca = gerarNovaPeca();</div>
<div class="line"> * inserirPecaNaFila(&amp;fila, novaPeca);</div>
<div class="line"> * </div>
<div class="line"> * <span class="comment">// Jogada de peÃ§a</span></div>
<div class="line"> * <span class="keywordflow">if</span> (!verificarFilaVazia(&amp;fila)) {</div>
<div class="line"> *     Peca pecaJogada = removerPecaDaFila(&amp;fila);</div>
<div class="line"> *     printf(<span class="stringliteral">&quot;Jogou peÃ§a %c%d\n&quot;</span>, pecaJogada.tipo, pecaJogada.id);</div>
<div class="line"> * }</div>
<div class="line"> * <span class="keyword">@end</span>code</div>
<div class="line"> * </div>
<div class="line"> * @subsection example_advanced Uso AvanÃ§ado com Reserva</div>
<div class="line"> * </div>
<div class="line"> * @code{.c}</div>
<div class="line"> * <span class="comment">// Reservar peÃ§a estratÃ©gica</span></div>
<div class="line"> * <span class="keywordflow">if</span> (!verificarFilaVazia(&amp;fila) &amp;&amp; !verificarPilhaCheia(&amp;pilha)) {</div>
<div class="line"> *     Peca pecaReservada = removerPecaDaFila(&amp;fila);</div>
<div class="line"> *     reservarPecaNaPilha(&amp;pilha, pecaReservada);</div>
<div class="line"> * }</div>
<div class="line"> * </div>
<div class="line"> * <span class="comment">// Usar peÃ§a reservada quando necessÃ¡rio</span></div>
<div class="line"> * <span class="keywordflow">if</span> (!verificarPilhaVazia(&amp;pilha)) {</div>
<div class="line"> *     Peca pecaUsada = usarPecaDaPilha(&amp;pilha);</div>
<div class="line"> *     printf(<span class="stringliteral">&quot;Usou peÃ§a reservada %c%d\n&quot;</span>, pecaUsada.tipo, pecaUsada.id);</div>
<div class="line"> * }</div>
<div class="line"> * <span class="keyword">@end</span>code</div>
<div class="line"> * </div>
<div class="line"> * @section compilation_sec CompilaÃ§Ã£o e ExecuÃ§Ã£o</div>
<div class="line"> * </div>
<div class="line"> * Para compilar o sistema:</div>
<div class="line"> * @code</div>
<div class="line"> * gcc -o tetris tetris.c -std=c99 -Wall -Wextra</div>
<div class="line"> * <span class="keyword">@end</span>code</div>
<div class="line"> * </div>
<div class="line"> * Para executar:</div>
<div class="line"> * @code</div>
<div class="line"> * ./tetris</div>
<div class="line"> * <span class="keyword">@end</span>code</div>
<div class="line"> * </div>
<div class="line"> * @author JoÃ£o Santos</div>
<div class="line"> * @copyright 2024 Universidade EstÃ¡cio de SÃ¡</div>
<div class="line"> */</div>
<div class="line"> </div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—</span></div>
<div class="line"><span class="comment"> * â•‘                          TETRIS STACK - NÃVEL ADVENTURER                    â•‘</span></div>
<div class="line"><span class="comment"> * â•‘                    Sistema AvanÃ§ado de Controle de PeÃ§as                    â•‘</span></div>
<div class="line"><span class="comment"> * â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£</span></div>
<div class="line"><span class="comment"> * â•‘ Desenvolvedor: JoÃ£o Santos                                                   â•‘</span></div>
<div class="line"><span class="comment"> * â•‘ InstituiÃ§Ã£o: Universidade EstÃ¡cio                                           â•‘</span></div>
<div class="line"><span class="comment"> * â•‘ Disciplina: Estruturas de Dados                                             â•‘</span></div>
<div class="line"><span class="comment"> * â•‘ VersÃ£o: 2.0 - NÃ­vel Adventurer                                              â•‘</span></div>
<div class="line"><span class="comment"> * â•‘ Data de CriaÃ§Ã£o: Janeiro 2025                                               â•‘</span></div>
<div class="line"><span class="comment"> * â•‘ Ãšltima AtualizaÃ§Ã£o: Janeiro 2025                                            â•‘</span></div>
<div class="line"><span class="comment"> * â•‘                                                                              â•‘</span></div>
<div class="line"><span class="comment"> * â•‘ DESCRIÃ‡ÃƒO DO PROJETO:                                                        â•‘</span></div>
<div class="line"><span class="comment"> * â•‘ Este programa implementa o NÃ­vel Adventurer do desafio Tetris Stack,        â•‘</span></div>
<div class="line"><span class="comment"> * â•‘ expandindo o sistema bÃ¡sico com uma pilha de reserva para estratÃ©gias       â•‘</span></div>
<div class="line"><span class="comment"> * â•‘ avanÃ§adas de gerenciamento de peÃ§as.                                        â•‘</span></div>
<div class="line"><span class="comment"> * â•‘                                                                              â•‘</span></div>
<div class="line"><span class="comment"> * â•‘ FUNCIONALIDADES IMPLEMENTADAS:                                               â•‘</span></div>
<div class="line"><span class="comment"> * â•‘ âœ“ Fila circular com capacidade fixa de 5 peÃ§as (FIFO)                      â•‘</span></div>
<div class="line"><span class="comment"> * â•‘ âœ“ Pilha de reserva linear com capacidade para 3 peÃ§as (LIFO)               â•‘</span></div>
<div class="line"><span class="comment"> * â•‘ âœ“ GeraÃ§Ã£o automÃ¡tica de peÃ§as com 4 tipos diferentes                       â•‘</span></div>
<div class="line"><span class="comment"> * â•‘ âœ“ Sistema de identificaÃ§Ã£o Ãºnica e sequencial                               â•‘</span></div>
<div class="line"><span class="comment"> * â•‘ âœ“ Interface interativa com menu contextual                                  â•‘</span></div>
<div class="line"><span class="comment"> * â•‘ âœ“ VisualizaÃ§Ã£o simultÃ¢nea de ambas as estruturas                           â•‘</span></div>
<div class="line"><span class="comment"> * â•‘ âœ“ OperaÃ§Ãµes integradas entre fila e pilha                                  â•‘</span></div>
<div class="line"><span class="comment"> * â•‘ âœ“ ValidaÃ§Ã£o completa de estados e operaÃ§Ãµes                                â•‘</span></div>
<div class="line"><span class="comment"> * â•‘ âœ“ Feedback inteligente com dicas para o usuÃ¡rio                            â•‘</span></div>
<div class="line"><span class="comment"> * â•‘                                                                              â•‘</span></div>
<div class="line"><span class="comment"> * â•‘ TIPOS DE PEÃ‡AS SUPORTADOS:                                                  â•‘</span></div>
<div class="line"><span class="comment"> * â•‘ â€¢ &#39;I&#39; - PeÃ§a em linha (4 blocos em linha reta)                             â•‘</span></div>
<div class="line"><span class="comment"> * â•‘ â€¢ &#39;O&#39; - PeÃ§a quadrada (2x2 blocos)                                         â•‘</span></div>
<div class="line"><span class="comment"> * â•‘ â€¢ &#39;T&#39; - PeÃ§a em formato T (3 blocos + 1 central)                           â•‘</span></div>
<div class="line"><span class="comment"> * â•‘ â€¢ &#39;L&#39; - PeÃ§a em formato L (3 blocos + 1 perpendicular)                     â•‘</span></div>
<div class="line"><span class="comment"> * â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line"><span class="comment">//                              BIBLIOTECAS NECESSÃRIAS</span></div>
<div class="line"><span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span>   <span class="comment">// FunÃ§Ãµes de entrada/saÃ­da (printf, scanf, getchar)</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdlib.h&gt;</span>  <span class="comment">// FunÃ§Ãµes utilitÃ¡rias (rand, srand, exit)</span></div>
<div class="line"><span class="preprocessor">#include &lt;time.h&gt;</span>    <span class="comment">// FunÃ§Ãµes de tempo (time para inicializaÃ§Ã£o aleatÃ³ria)</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line"><span class="comment">//                           DEFINIÃ‡Ã•ES DE ESTRUTURAS DE DADOS</span></div>
<div class="line"><span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line">    <span class="keywordtype">char</span> tipo;  <span class="comment">// Tipo geomÃ©trico: &#39;I&#39;=linha, &#39;O&#39;=quadrado, &#39;T&#39;=T, &#39;L&#39;=L</span></div>
<div class="line">    <span class="keywordtype">int</span> id;     <span class="comment">// Identificador Ãºnico e sequencial (1, 2, 3, ...)</span></div>
<div class="line">} Peca;</div>
<div class="line"></div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line">    Peca pecas[5];          <span class="comment">// Array circular com capacidade fixa de 5 peÃ§as</span></div>
<div class="line">    <span class="keywordtype">int</span> indiceFrente;       <span class="comment">// Ãndice da frente (prÃ³xima peÃ§a a jogar)</span></div>
<div class="line">    <span class="keywordtype">int</span> indiceTras;         <span class="comment">// Ãndice do final (Ãºltima peÃ§a inserida)</span></div>
<div class="line">    <span class="keywordtype">int</span> quantidadePecas;    <span class="comment">// Contador atual de peÃ§as vÃ¡lidas (0-5)</span></div>
<div class="line">} FilaCircular;</div>
<div class="line"></div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line">    Peca pecasReservadas[3];    <span class="comment">// Array linear para atÃ© 3 peÃ§as reservadas</span></div>
<div class="line">    <span class="keywordtype">int</span> indiceTopo;             <span class="comment">// Ãndice do topo (-1=vazia, 0-2=vÃ¡lido)</span></div>
<div class="line">    <span class="keywordtype">int</span> quantidadeReservada;    <span class="comment">// Contador atual de peÃ§as reservadas (0-3)</span></div>
<div class="line">} PilhaReserva;</div>
<div class="line"></div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    <span class="comment">//                    SISTEMA DE PONTUAÃ‡ÃƒO</span></div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    <span class="keywordtype">int</span> pontuacaoTotal;          </div>
<div class="line">    <span class="keywordtype">int</span> pontuacaoNivel;          </div>
<div class="line">    <span class="keywordtype">int</span> multiplicadorAtual;      </div>
<div class="line">    <span class="keywordtype">int</span> pontosUltimaJogada;      </div>
<div class="line">    </div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    <span class="comment">//                    SISTEMA DE COMBOS</span></div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    <span class="keywordtype">int</span> comboAtual;              </div>
<div class="line">    <span class="keywordtype">int</span> melhorCombo;             </div>
<div class="line">    <span class="keywordtype">int</span> totalCombos;             </div>
<div class="line">    <span class="keywordtype">char</span> ultimoTipoJogado;       </div>
<div class="line">    <span class="keywordtype">int</span> sequenciaTipoAtual;      </div>
<div class="line">    </div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    <span class="comment">//                   NÃVEIS DE DIFICULDADE</span></div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    <span class="keywordtype">int</span> nivelAtual;              </div>
<div class="line">    <span class="keywordtype">int</span> pontosParaProximoNivel;  </div>
<div class="line">    <span class="keywordtype">int</span> limitePontosNivel;       </div>
<div class="line">    <span class="keywordtype">double</span> fatorDificuldade;     </div>
<div class="line">    </div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    <span class="comment">//                  ESTATÃSTICAS AVANÃ‡ADAS</span></div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    <span class="keywordtype">int</span> totalJogadas;            </div>
<div class="line">    <span class="keywordtype">int</span> jogadasDaFila;           </div>
<div class="line">    <span class="keywordtype">int</span> jogadasDaPilha;          </div>
<div class="line">    <span class="keywordtype">int</span> pecasReservadas;         </div>
<div class="line">    <span class="keywordtype">int</span> eficienciaReserva;       </div>
<div class="line">    </div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    <span class="comment">//                 ESTATÃSTICAS POR TIPO DE PEÃ‡A</span></div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    <span class="keywordtype">int</span> contagemTipoI;           </div>
<div class="line">    <span class="keywordtype">int</span> contagemTipoO;           </div>
<div class="line">    <span class="keywordtype">int</span> contagemTipoT;           </div>
<div class="line">    <span class="keywordtype">int</span> contagemTipoL;           </div>
<div class="line">    <span class="keywordtype">char</span> tipoMaisJogado;         </div>
<div class="line">    </div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    <span class="comment">//                    SISTEMA DE CONQUISTAS</span></div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    <span class="keywordtype">int</span> conquistasDesbloqueadas; </div>
<div class="line">    <span class="keywordtype">int</span> marcosAlcancados;        </div>
<div class="line">    <span class="keywordtype">int</span> recordePessoal;          </div>
<div class="line">    </div>
<div class="line">} SistemaExpert;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line"><span class="comment">//                              VARIÃVEIS GLOBAIS</span></div>
<div class="line"><span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> contadorIdGlobal = 1;</div>
<div class="line"> </div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line"><span class="comment"> *                         PROTÃ“TIPOS DAS FUNÃ‡Ã•ES EXPERT</span></div>
<div class="line"><span class="comment"> * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// FunÃ§Ãµes do Sistema Expert</span></div>
<div class="line"><span class="keywordtype">void</span> <a class="code hl_function" href="tetris_8c.html#aaf4095c9b2ba3b00995bac973f037a2d">inicializarSistemaExpert</a>(SistemaExpert* sistemaPtr);</div>
<div class="line"><span class="keywordtype">int</span> <a class="code hl_function" href="tetris_8c.html#a9e02dcf454b4b8d211118be482b21b49">calcularPontuacao</a>(<span class="keywordtype">char</span> tipoPeca, SistemaExpert* sistemaPtr);</div>
<div class="line"><span class="keywordtype">int</span> <a class="code hl_function" href="tetris_8c.html#a2905e073b3d5b998d159f5f17d0d1f9a">detectarCombo</a>(<span class="keywordtype">char</span> tipoPeca, SistemaExpert* sistemaPtr);</div>
<div class="line"><span class="keywordtype">int</span> <a class="code hl_function" href="tetris_8c.html#a6165ae6c43b73bd06d2efbe452b039aa">verificarProgressaoNivel</a>(SistemaExpert* sistemaPtr);</div>
<div class="line"><span class="keywordtype">void</span> <a class="code hl_function" href="tetris_8c.html#adeea4c9bfd48c9c3fe2e6be1687df862">processarJogadaExpert</a>(Peca peca, <span class="keywordtype">int</span> origem, SistemaExpert* sistemaPtr);</div>
<div class="line"><span class="keywordtype">void</span> exibirEstatisticasExpert(SistemaExpert* sistemaPtr);</div>
<div class="line"><span class="keywordtype">int</span> otimizarSistemaExpert(SistemaExpert* sistemaPtr);</div>
<div class="line"><span class="keywordtype">void</span> gerarRelatorioExpert(SistemaExpert* sistemaPtr);</div>
<div class="line"> </div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line"><span class="comment"> *                         FUNÃ‡Ã•ES DE GERAÃ‡ÃƒO DE PEÃ‡AS</span></div>
<div class="line"><span class="comment"> * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"></div>
<div class="line">Peca gerarNovaPeca() {</div>
<div class="line">    Peca pecaNova;</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Array com os tipos de peÃ§as disponÃ­veis no Tetris clÃ¡ssico</span></div>
<div class="line">    <span class="keywordtype">char</span> tiposDisponiveis[] = {<span class="charliteral">&#39;I&#39;</span>, <span class="charliteral">&#39;O&#39;</span>, <span class="charliteral">&#39;T&#39;</span>, <span class="charliteral">&#39;L&#39;</span>};</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">int</span> quantidadeTipos = 4;</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Seleciona tipo aleatÃ³rio usando mÃ³dulo para garantir Ã­ndice vÃ¡lido</span></div>
<div class="line">    <span class="keywordtype">int</span> indiceAleatorio = rand() % quantidadeTipos;</div>
<div class="line">    pecaNova.tipo = tiposDisponiveis[indiceAleatorio];</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Atribui ID sequencial Ãºnico e incrementa contador</span></div>
<div class="line">    pecaNova.id = contadorIdGlobal++;</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span> pecaNova;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line"><span class="comment">//                         FUNÃ‡Ã•ES DE CONTROLE DA FILA CIRCULAR</span></div>
<div class="line"><span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> inicializarFilaCircular(FilaCircular* filaPtr) {</div>
<div class="line">    <span class="comment">// Inicializa Ã­ndices de controle da fila circular</span></div>
<div class="line">    filaPtr-&gt;indiceFrente = 0;           <span class="comment">// Primeira posiÃ§Ã£o do array (prÃ³xima a jogar)</span></div>
<div class="line">    filaPtr-&gt;indiceTras = -1;            <span class="comment">// SerÃ¡ incrementado para 0 na primeira inserÃ§Ã£o</span></div>
<div class="line">    filaPtr-&gt;quantidadePecas = 0;        <span class="comment">// Contador inicia zerado</span></div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Preenche a fila com 5 peÃ§as iniciais para garantir disponibilidade</span></div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> indiceLoop = 0; indiceLoop &lt; 5; indiceLoop++) {</div>
<div class="line">        <span class="comment">// Calcula prÃ³xima posiÃ§Ã£o circular para inserÃ§Ã£o (0, 1, 2, 3, 4)</span></div>
<div class="line">        filaPtr-&gt;indiceTras = (filaPtr-&gt;indiceTras + 1) % 5;</div>
<div class="line">        </div>
<div class="line">        <span class="comment">// Gera nova peÃ§a aleatÃ³ria e insere na posiÃ§Ã£o calculada</span></div>
<div class="line">        filaPtr-&gt;pecas[filaPtr-&gt;indiceTras] = gerarNovaPeca();</div>
<div class="line">        </div>
<div class="line">        <span class="comment">// Incrementa contador de peÃ§as vÃ¡lidas na fila</span></div>
<div class="line">        filaPtr-&gt;quantidadePecas++;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> verificarFilaCheia(FilaCircular* filaPtr) {</div>
<div class="line">    <span class="keywordflow">return</span> filaPtr-&gt;quantidadePecas == 5;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> verificarFilaVazia(FilaCircular* filaPtr) {</div>
<div class="line">    <span class="keywordflow">return</span> filaPtr-&gt;quantidadePecas == 0;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> inserirPecaNaFila(FilaCircular* filaPtr, Peca pecaParaInserir) {</div>
<div class="line">    <span class="comment">// ValidaÃ§Ã£o de capacidade: impede overflow da estrutura</span></div>
<div class="line">    <span class="keywordflow">if</span> (verificarFilaCheia(filaPtr)) {</div>
<div class="line">        printf(<span class="stringliteral">&quot;âš ï¸  ERRO: Tentativa de inserir peÃ§a em fila cheia!\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span>;  <span class="comment">// Falha silenciosa para manter estabilidade</span></div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Calcula prÃ³xima posiÃ§Ã£o circular (0â†’1â†’2â†’3â†’4â†’0...)</span></div>
<div class="line">    filaPtr-&gt;indiceTras = (filaPtr-&gt;indiceTras + 1) % 5;</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Insere a peÃ§a na posiÃ§Ã£o calculada</span></div>
<div class="line">    filaPtr-&gt;pecas[filaPtr-&gt;indiceTras] = pecaParaInserir;</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Atualiza contador de peÃ§as vÃ¡lidas na fila</span></div>
<div class="line">    filaPtr-&gt;quantidadePecas++;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line">Peca removerPecaDaFila(FilaCircular* filaPtr) {</div>
<div class="line">    <span class="comment">// PeÃ§a vazia para retorno em caso de erro ou fila vazia</span></div>
<div class="line">    Peca pecaVazia = {<span class="charliteral">&#39; &#39;</span>, 0};</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// ValidaÃ§Ã£o de disponibilidade: impede underflow da estrutura</span></div>
<div class="line">    <span class="keywordflow">if</span> (verificarFilaVazia(filaPtr)) {</div>
<div class="line">        printf(<span class="stringliteral">&quot;âš ï¸  ERRO: Tentativa de remover peÃ§a de fila vazia!\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span> pecaVazia;  <span class="comment">// Retorna peÃ§a invÃ¡lida para sinalizar erro</span></div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Salva a peÃ§a que serÃ¡ removida da frente da fila</span></div>
<div class="line">    Peca pecaRemovida = filaPtr-&gt;pecas[filaPtr-&gt;indiceFrente];</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Atualiza Ã­ndice da frente para prÃ³xima posiÃ§Ã£o circular (0â†’1â†’2â†’3â†’4â†’0...)</span></div>
<div class="line">    filaPtr-&gt;indiceFrente = (filaPtr-&gt;indiceFrente + 1) % 5;</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Decrementa contador de peÃ§as vÃ¡lidas na fila</span></div>
<div class="line">    filaPtr-&gt;quantidadePecas--;</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span> pecaRemovida;  <span class="comment">// Retorna a peÃ§a removida com sucesso</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line"><span class="comment">//                         FUNÃ‡Ã•ES DE CONTROLE DA PILHA DE RESERVA</span></div>
<div class="line"><span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> inicializarPilhaReserva(PilhaReserva* pilhaPtr) {</div>
<div class="line">    pilhaPtr-&gt;indiceTopo = -1;           <span class="comment">// -1 indica pilha vazia (convenÃ§Ã£o padrÃ£o)</span></div>
<div class="line">    pilhaPtr-&gt;quantidadeReservada = 0;   <span class="comment">// Nenhuma peÃ§a reservada inicialmente</span></div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> verificarPilhaCheia(PilhaReserva* pilhaPtr) {</div>
<div class="line">    <span class="keywordflow">return</span> pilhaPtr-&gt;quantidadeReservada == 3;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> verificarPilhaVazia(PilhaReserva* pilhaPtr) {</div>
<div class="line">    <span class="keywordflow">return</span> pilhaPtr-&gt;quantidadeReservada == 0;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> reservarPecaNaPilha(PilhaReserva* pilhaPtr, Peca pecaParaReservar) {</div>
<div class="line">    <span class="comment">// ValidaÃ§Ã£o de capacidade: impede overflow da estrutura</span></div>
<div class="line">    <span class="keywordflow">if</span> (verificarPilhaCheia(pilhaPtr)) {</div>
<div class="line">        printf(<span class="stringliteral">&quot;âš ï¸  ERRO: Tentativa de reservar peÃ§a em pilha cheia!\n&quot;</span>);</div>
<div class="line">        printf(<span class="stringliteral">&quot;   A pilha de reserva jÃ¡ contÃ©m 3 peÃ§as (mÃ¡ximo permitido).\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span>;  <span class="comment">// Falha silenciosa para manter estabilidade</span></div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Incrementa Ã­ndice do topo (de -1 para 0 na primeira inserÃ§Ã£o)</span></div>
<div class="line">    pilhaPtr-&gt;indiceTopo++;</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Insere a peÃ§a na nova posiÃ§Ã£o do topo</span></div>
<div class="line">    pilhaPtr-&gt;pecasReservadas[pilhaPtr-&gt;indiceTopo] = pecaParaReservar;</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Atualiza contador de peÃ§as reservadas na pilha</span></div>
<div class="line">    pilhaPtr-&gt;quantidadeReservada++;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line">Peca usarPecaDaPilha(PilhaReserva* pilhaPtr) {</div>
<div class="line">    <span class="comment">// PeÃ§a vazia para retorno em caso de erro ou pilha vazia</span></div>
<div class="line">    Peca pecaVazia = {<span class="charliteral">&#39; &#39;</span>, 0};</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// ValidaÃ§Ã£o de disponibilidade: impede underflow da estrutura</span></div>
<div class="line">    <span class="keywordflow">if</span> (verificarPilhaVazia(pilhaPtr)) {</div>
<div class="line">        printf(<span class="stringliteral">&quot;âš ï¸  ERRO: Tentativa de usar peÃ§a de pilha vazia!\n&quot;</span>);</div>
<div class="line">        printf(<span class="stringliteral">&quot;   NÃ£o hÃ¡ peÃ§as reservadas disponÃ­veis para uso.\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span> pecaVazia;  <span class="comment">// Retorna peÃ§a invÃ¡lida para sinalizar erro</span></div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Salva a peÃ§a do topo que serÃ¡ removida</span></div>
<div class="line">    Peca pecaUsada = pilhaPtr-&gt;pecasReservadas[pilhaPtr-&gt;indiceTopo];</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Decrementa Ã­ndice do topo (volta para -1 se era a Ãºltima peÃ§a)</span></div>
<div class="line">    pilhaPtr-&gt;indiceTopo--;</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Decrementa contador de peÃ§as reservadas</span></div>
<div class="line">    pilhaPtr-&gt;quantidadeReservada--;</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span> pecaUsada;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line"><span class="comment"> *                         FUNÃ‡Ã•ES DE VISUALIZAÃ‡ÃƒO</span></div>
<div class="line"><span class="comment"> * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> exibirEstadoDaFila(FilaCircular* filaPtr) {</div>
<div class="line">    printf(<span class="stringliteral">&quot;\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â”‚                    ğŸ® FILA DE PEÃ‡AS                         â”‚\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â”‚                                                             â”‚\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â”‚  Capacidade: 5 peÃ§as  â”‚  OcupaÃ§Ã£o: %d/5  â”‚  Status: %-6s â”‚\n&quot;</span>, </div>
<div class="line">           filaPtr-&gt;quantidadePecas, </div>
<div class="line">           verificarFilaVazia(filaPtr) ? <span class="stringliteral">&quot;Vazia&quot;</span> : </div>
<div class="line">           verificarFilaCheia(filaPtr) ? <span class="stringliteral">&quot;Cheia&quot;</span> : <span class="stringliteral">&quot;Ativa&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\n&quot;</span>);</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">if</span> (verificarFilaVazia(filaPtr)) {</div>
<div class="line">        printf(<span class="stringliteral">&quot;â”‚                     ğŸ”„ Fila vazia                           â”‚\n&quot;</span>);</div>
<div class="line">        printf(<span class="stringliteral">&quot;â”‚              Gere peÃ§as para comeÃ§ar!                      â”‚\n&quot;</span>);</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        printf(<span class="stringliteral">&quot;â”‚  PosiÃ§Ã£o  â”‚  ID   â”‚  Tipo  â”‚           Status             â”‚\n&quot;</span>);</div>
<div class="line">        printf(<span class="stringliteral">&quot;â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\n&quot;</span>);</div>
<div class="line">        </div>
<div class="line">        <span class="keywordtype">int</span> indiceAtual = filaPtr-&gt;indiceFrente;</div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> contadorPecas = 0; contadorPecas &lt; filaPtr-&gt;quantidadePecas; contadorPecas++) {</div>
<div class="line">            <span class="keywordtype">char</span>* statusPeca = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line">            <span class="keywordflow">if</span> (contadorPecas == 0) statusPeca = <span class="stringliteral">&quot;â† PrÃ³xima a jogar&quot;</span>;</div>
<div class="line">            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (contadorPecas == filaPtr-&gt;quantidadePecas - 1) statusPeca = <span class="stringliteral">&quot;â† Ãšltima adicionada&quot;</span>;</div>
<div class="line">            </div>
<div class="line">            printf(<span class="stringliteral">&quot;â”‚     %d     â”‚  %3d  â”‚   %c    â”‚  %-26s  â”‚\n&quot;</span>, </div>
<div class="line">                   contadorPecas + 1, </div>
<div class="line">                   filaPtr-&gt;pecas[indiceAtual].id, </div>
<div class="line">                   filaPtr-&gt;pecas[indiceAtual].tipo,</div>
<div class="line">                   statusPeca);</div>
<div class="line">            </div>
<div class="line">            indiceAtual = (indiceAtual + 1) % 5;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    printf(<span class="stringliteral">&quot;â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n&quot;</span>);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> exibirEstadoDaPilha(PilhaReserva* pilhaPtr) {</div>
<div class="line">    printf(<span class="stringliteral">&quot;\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â”‚                  ğŸ“¦ PILHA DE RESERVA                        â”‚\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â”‚                                                             â”‚\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â”‚  Capacidade: 3 peÃ§as  â”‚  OcupaÃ§Ã£o: %d/3  â”‚  Status: %-6s â”‚\n&quot;</span>, </div>
<div class="line">           pilhaPtr-&gt;quantidadeReservada, </div>
<div class="line">           verificarPilhaVazia(pilhaPtr) ? <span class="stringliteral">&quot;Vazia&quot;</span> : </div>
<div class="line">           verificarPilhaCheia(pilhaPtr) ? <span class="stringliteral">&quot;Cheia&quot;</span> : <span class="stringliteral">&quot;Ativa&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\n&quot;</span>);</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">if</span> (verificarPilhaVazia(pilhaPtr)) {</div>
<div class="line">        printf(<span class="stringliteral">&quot;â”‚                    ğŸ“¦ Pilha vazia                           â”‚\n&quot;</span>);</div>
<div class="line">        printf(<span class="stringliteral">&quot;â”‚             Reserve peÃ§as para usar depois!                â”‚\n&quot;</span>);</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        printf(<span class="stringliteral">&quot;â”‚  PosiÃ§Ã£o  â”‚  ID   â”‚  Tipo  â”‚           Status             â”‚\n&quot;</span>);</div>
<div class="line">        printf(<span class="stringliteral">&quot;â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\n&quot;</span>);</div>
<div class="line">        </div>
<div class="line">        <span class="comment">// Exibe da posiÃ§Ã£o mais alta para a mais baixa (topo para base)</span></div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> indicePilha = pilhaPtr-&gt;indiceTopo; indicePilha &gt;= 0; indicePilha--) {</div>
<div class="line">            <span class="keywordtype">char</span>* statusPeca = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line">            <span class="keywordflow">if</span> (indicePilha == pilhaPtr-&gt;indiceTopo) statusPeca = <span class="stringliteral">&quot;â† Topo (prÃ³xima a usar)&quot;</span>;</div>
<div class="line">            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (indicePilha == 0) statusPeca = <span class="stringliteral">&quot;â† Base da pilha&quot;</span>;</div>
<div class="line">            </div>
<div class="line">            printf(<span class="stringliteral">&quot;â”‚     %d     â”‚  %3d  â”‚   %c    â”‚  %-26s  â”‚\n&quot;</span>, </div>
<div class="line">                   indicePilha, </div>
<div class="line">                   pilhaPtr-&gt;pecasReservadas[indicePilha].id, </div>
<div class="line">                   pilhaPtr-&gt;pecasReservadas[indicePilha].tipo,</div>
<div class="line">                   statusPeca);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    printf(<span class="stringliteral">&quot;â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n&quot;</span>);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> exibirEstadoCompleto(FilaCircular* filaPtr, PilhaReserva* pilhaPtr) {</div>
<div class="line">    <span class="comment">// Limpeza otimizada da tela para Windows</span></div>
<div class="line">    system(<span class="stringliteral">&quot;cls&quot;</span>);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// CabeÃ§alho principal unificado</span></div>
<div class="line">    printf(<span class="stringliteral">&quot;â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;                           ğŸ¯ TETRIS STACK - NÃVEL ADVENTURER\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n&quot;</span>);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// ReutilizaÃ§Ã£o das funÃ§Ãµes de exibiÃ§Ã£o individuais (evita duplicaÃ§Ã£o de cÃ³digo)</span></div>
<div class="line">    exibirEstadoDaFila(filaPtr);</div>
<div class="line">    exibirEstadoDaPilha(pilhaPtr);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// EstatÃ­sticas consolidadas com cÃ¡lculos otimizados</span></div>
<div class="line">    <span class="keywordtype">int</span> totalPecasNoSistema = filaPtr-&gt;quantidadePecas + pilhaPtr-&gt;quantidadeReservada;</div>
<div class="line">    <span class="keywordtype">int</span> espacosLivres = (5 - filaPtr-&gt;quantidadePecas) + (3 - pilhaPtr-&gt;quantidadeReservada);</div>
<div class="line">    </div>
<div class="line">    printf(<span class="stringliteral">&quot;\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â”‚                    ğŸ“Š ESTATÃSTICAS CONSOLIDADAS             â”‚\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â”‚  PeÃ§as na fila: %d/5  â”‚  PeÃ§as reservadas: %d/3           â”‚\n&quot;</span>, </div>
<div class="line">           filaPtr-&gt;quantidadePecas, pilhaPtr-&gt;quantidadeReservada);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â”‚  Total no sistema: %d/8  â”‚  EspaÃ§os livres: %d             â”‚\n&quot;</span>, </div>
<div class="line">           totalPecasNoSistema, espacosLivres);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â”‚  PrÃ³ximo ID: %d  â”‚  EficiÃªncia: %.1f%%                   â”‚\n&quot;</span>, </div>
<div class="line">           contadorIdGlobal, (totalPecasNoSistema / 8.0) * 100);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n&quot;</span>);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> exibirMenuPrincipal(FilaCircular* filaPtr, PilhaReserva* pilhaPtr) {</div>
<div class="line">    printf(<span class="stringliteral">&quot;\nâ•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â•‘                    ğŸ¯ MENU PRINCIPAL                          â•‘\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â•‘                     NÃVEL EXPERT                              â•‘\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£\n&quot;</span>);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// OpÃ§Ã£o 1: Jogar peÃ§a da fila</span></div>
<div class="line">    <span class="keywordflow">if</span> (verificarFilaVazia(filaPtr)) {</div>
<div class="line">        printf(<span class="stringliteral">&quot;â•‘  1ï¸âƒ£  Jogar peÃ§a da fila           âŒ (Fila vazia)           â•‘\n&quot;</span>);</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        printf(<span class="stringliteral">&quot;â•‘  1ï¸âƒ£  Jogar peÃ§a da fila           âœ… (PeÃ§a %c%d disponÃ­vel) â•‘\n&quot;</span>,</div>
<div class="line">               filaPtr-&gt;pecas[filaPtr-&gt;indiceFrente].tipo,</div>
<div class="line">               filaPtr-&gt;pecas[filaPtr-&gt;indiceFrente].id);</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// OpÃ§Ã£o 2: Reservar peÃ§a da fila na pilha</span></div>
<div class="line">    <span class="keywordflow">if</span> (verificarFilaVazia(filaPtr) || verificarPilhaCheia(pilhaPtr)) {</div>
<div class="line">        printf(<span class="stringliteral">&quot;â•‘  2ï¸âƒ£  Reservar peÃ§a na pilha       âŒ &quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (verificarFilaVazia(filaPtr)) printf(<span class="stringliteral">&quot;(Fila vazia)&quot;</span>);</div>
<div class="line">        <span class="keywordflow">else</span> printf(<span class="stringliteral">&quot;(Pilha cheia)&quot;</span>);</div>
<div class="line">        printf(<span class="stringliteral">&quot;        â•‘\n&quot;</span>);</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        printf(<span class="stringliteral">&quot;â•‘  2ï¸âƒ£  Reservar peÃ§a na pilha       âœ… (EspaÃ§o disponÃ­vel)    â•‘\n&quot;</span>);</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// OpÃ§Ã£o 3: Usar peÃ§a reservada da pilha</span></div>
<div class="line">    <span class="keywordflow">if</span> (verificarPilhaVazia(pilhaPtr)) {</div>
<div class="line">        printf(<span class="stringliteral">&quot;â•‘  3ï¸âƒ£  Usar peÃ§a reservada          âŒ (Pilha vazia)          â•‘\n&quot;</span>);</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        printf(<span class="stringliteral">&quot;â•‘  3ï¸âƒ£  Usar peÃ§a reservada          âœ… (PeÃ§a %c%d no topo)    â•‘\n&quot;</span>,</div>
<div class="line">               pilhaPtr-&gt;pecasReservadas[pilhaPtr-&gt;indiceTopo].tipo,</div>
<div class="line">               pilhaPtr-&gt;pecasReservadas[pilhaPtr-&gt;indiceTopo].id);</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// OpÃ§Ã£o 4: Gerar nova peÃ§a</span></div>
<div class="line">    <span class="keywordflow">if</span> (verificarFilaCheia(filaPtr)) {</div>
<div class="line">        printf(<span class="stringliteral">&quot;â•‘  4ï¸âƒ£  Gerar nova peÃ§a              âŒ (Fila cheia)           â•‘\n&quot;</span>);</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        printf(<span class="stringliteral">&quot;â•‘  4ï¸âƒ£  Gerar nova peÃ§a              âœ… (EspaÃ§o disponÃ­vel)    â•‘\n&quot;</span>);</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// OpÃ§Ãµes sempre disponÃ­veis</span></div>
<div class="line">    printf(<span class="stringliteral">&quot;â•‘  5ï¸âƒ£  Exibir estado completo       âœ… (Sempre disponÃ­vel)    â•‘\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â•‘  6ï¸âƒ£  EstatÃ­sticas Expert          âœ… (PontuaÃ§Ã£o &amp; Combos)   â•‘\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â•‘  0ï¸âƒ£  Sair do programa             âœ… (Sempre disponÃ­vel)    â•‘\n&quot;</span>);</div>
<div class="line">    </div>
<div class="line">    printf(<span class="stringliteral">&quot;â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;ğŸ® Digite sua escolha: &quot;</span>);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> exibirBoasVindas() {</div>
<div class="line">    printf(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â•‘                                                              â•‘\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â•‘            ğŸ® BEM-VINDO AO TETRIS STACK! ğŸ®                  â•‘\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â•‘                     NÃ­vel Novato                            â•‘\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â•‘                                                              â•‘\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â•‘  Sistema de fila circular de peÃ§as inicializado com         â•‘\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â•‘  sucesso! VocÃª pode comeÃ§ar a jogar imediatamente.          â•‘\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â•‘                                                              â•‘\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n&quot;</span>);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> exibirDespedida() {</div>
<div class="line">    printf(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â•‘                                                              â•‘\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â•‘               ğŸ‘‹ OBRIGADO POR JOGAR! ğŸ‘‹                      â•‘\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â•‘                    Tetris Stack                              â•‘\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â•‘                   NÃ­vel Adventurer                           â•‘\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â•‘                                                              â•‘\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â•‘  ğŸ® VocÃª explorou com sucesso:                              â•‘\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â•‘     â€¢ Fila circular de 5 peÃ§as                              â•‘\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â•‘     â€¢ Pilha de reserva de 3 peÃ§as                           â•‘\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â•‘     â€¢ OperaÃ§Ãµes integradas entre estruturas                 â•‘\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â•‘                                                              â•‘\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â•‘  Volte sempre para mais desafios! ğŸš€                        â•‘\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â•‘                                                              â•‘\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n&quot;</span>);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line"><span class="comment"> *                              FUNÃ‡ÃƒO PRINCIPAL</span></div>
<div class="line"><span class="comment"> * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> main() {</div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    <span class="comment">//                           INICIALIZAÃ‡ÃƒO DO SISTEMA</span></div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Inicializa gerador de nÃºmeros aleatÃ³rios com seed baseada no tempo atual</span></div>
<div class="line">    srand(time(NULL));</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// DeclaraÃ§Ã£o das estruturas principais</span></div>
<div class="line">    FilaCircular filaDeJogo;        <span class="comment">// Fila circular para 5 peÃ§as</span></div>
<div class="line">    PilhaReserva pilhaReserva;      <span class="comment">// Pilha linear para 3 peÃ§as reservadas</span></div>
<div class="line">    SistemaExpert sistemaExpert;    <span class="comment">// Sistema Expert para pontuaÃ§Ã£o e estatÃ­sticas</span></div>
<div class="line">    <span class="keywordtype">int</span> opcaoEscolhida;             <span class="comment">// OpÃ§Ã£o selecionada pelo usuÃ¡rio</span></div>
<div class="line">    <span class="keywordtype">int</span> contadorPecasJogadas = 0;   <span class="comment">// EstatÃ­stica de peÃ§as jogadas</span></div>
<div class="line">    </div>
<div class="line">    <span class="comment">// InicializaÃ§Ã£o das estruturas de dados</span></div>
<div class="line">    inicializarFilaCircular(&amp;filaDeJogo);</div>
<div class="line">    inicializarPilhaReserva(&amp;pilhaReserva);</div>
<div class="line">    <a class="code hl_function" href="tetris_8c.html#aaf4095c9b2ba3b00995bac973f037a2d">inicializarSistemaExpert</a>(&amp;sistemaExpert);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Exibe mensagem de boas-vindas</span></div>
<div class="line">    exibirBoasVindas();</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Mostra estado inicial completo</span></div>
<div class="line">    exibirEstadoCompleto(&amp;filaDeJogo, &amp;pilhaReserva);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    <span class="comment">//                              LOOP PRINCIPAL</span></div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">do</span> {</div>
<div class="line">        <span class="comment">// Exibe menu contextual e captura opÃ§Ã£o do usuÃ¡rio</span></div>
<div class="line">        exibirMenuPrincipal(&amp;filaDeJogo, &amp;pilhaReserva);</div>
<div class="line">        scanf(<span class="stringliteral">&quot;%d&quot;</span>, &amp;opcaoEscolhida);</div>
<div class="line">        </div>
<div class="line">        <span class="comment">// Processa a opÃ§Ã£o escolhida</span></div>
<div class="line">        <span class="keywordflow">switch</span> (opcaoEscolhida) {</div>
<div class="line">            <span class="keywordflow">case</span> 1: {</div>
<div class="line">                <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">                <span class="comment">//                    JOGAR PEÃ‡A DA FILA</span></div>
<div class="line">                <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">                printf(<span class="stringliteral">&quot;\nğŸ® Processando jogada...\n&quot;</span>);</div>
<div class="line">                <span class="comment">// ValidaÃ§Ã£o otimizada com early return</span></div>
<div class="line">                <span class="keywordflow">if</span> (!verificarFilaVazia(&amp;filaDeJogo)) {</div>
<div class="line">                    <span class="comment">// Remove peÃ§a da frente da fila</span></div>
<div class="line">                    Peca pecaJogada = removerPecaDaFila(&amp;filaDeJogo);</div>
<div class="line">                    contadorPecasJogadas++;</div>
<div class="line">                    </div>
<div class="line">                    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">                    <span class="comment">//                    PROCESSAMENTO EXPERT</span></div>
<div class="line">                    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">                    <a class="code hl_function" href="tetris_8c.html#adeea4c9bfd48c9c3fe2e6be1687df862">processarJogadaExpert</a>(pecaJogada, 1, &amp;sistemaExpert); <span class="comment">// 1 = da fila</span></div>
<div class="line">                    </div>
<div class="line">                    printf(<span class="stringliteral">&quot;âœ… PeÃ§a %c%d foi jogada com sucesso!\n&quot;</span>, </div>
<div class="line">                           pecaJogada.tipo, pecaJogada.id);</div>
<div class="line">                    printf(<span class="stringliteral">&quot;   ğŸ† Pontos ganhos: %d (Total: %d)\n&quot;</span>, </div>
<div class="line">                           sistemaExpert.pontosUltimaJogada, sistemaExpert.pontuacaoTotal);</div>
<div class="line">                    </div>
<div class="line">                    <span class="comment">// Verifica se formou combo</span></div>
<div class="line">                    <span class="keywordflow">if</span> (sistemaExpert.comboAtual &gt; 0) {</div>
<div class="line">                        printf(<span class="stringliteral">&quot;   ğŸ”¥ COMBO x%d! Multiplicador: %dx\n&quot;</span>, </div>
<div class="line">                               sistemaExpert.comboAtual, sistemaExpert.multiplicadorAtual);</div>
<div class="line">                    }</div>
<div class="line">                    </div>
<div class="line">                    <span class="comment">// Verifica se subiu de nÃ­vel</span></div>
<div class="line">                    <span class="keywordflow">if</span> (<a class="code hl_function" href="tetris_8c.html#a6165ae6c43b73bd06d2efbe452b039aa">verificarProgressaoNivel</a>(&amp;sistemaExpert)) {</div>
<div class="line">                        printf(<span class="stringliteral">&quot;   ğŸ‰ PARABÃ‰NS! VocÃª subiu para o NÃVEL %d!\n&quot;</span>, </div>
<div class="line">                               sistemaExpert.nivelAtual);</div>
<div class="line">                        printf(<span class="stringliteral">&quot;   âš¡ Dificuldade aumentada: %.1fx\n&quot;</span>, </div>
<div class="line">                               sistemaExpert.fatorDificuldade);</div>
<div class="line">                    }</div>
<div class="line">                    </div>
<div class="line">                    printf(<span class="stringliteral">&quot;   ğŸ“Š PeÃ§as restantes na fila: %d/5\n&quot;</span>, </div>
<div class="line">                           filaDeJogo.quantidadePecas);</div>
<div class="line">                    </div>
<div class="line">                    <span class="comment">// Gera automaticamente uma nova peÃ§a se houver espaÃ§o</span></div>
<div class="line">                    <span class="keywordflow">if</span> (!verificarFilaCheia(&amp;filaDeJogo)) {</div>
<div class="line">                        Peca novaPecaGerada = gerarNovaPeca();</div>
<div class="line">                        inserirPecaNaFila(&amp;filaDeJogo, novaPecaGerada);</div>
<div class="line">                        printf(<span class="stringliteral">&quot;   ğŸ”„ Nova peÃ§a %c%d gerada automaticamente\n&quot;</span>, </div>
<div class="line">                               novaPecaGerada.tipo, novaPecaGerada.id);</div>
<div class="line">                    }</div>
<div class="line">                } <span class="keywordflow">else</span> {</div>
<div class="line">                    printf(<span class="stringliteral">&quot;âŒ ImpossÃ­vel jogar: fila estÃ¡ vazia!\n&quot;</span>);</div>
<div class="line">                    printf(<span class="stringliteral">&quot;   ğŸ’¡ Dica: Gere novas peÃ§as primeiro (opÃ§Ã£o 4)\n&quot;</span>);</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">            </div>
<div class="line">            <span class="keywordflow">case</span> 2: {</div>
<div class="line">                <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">                <span class="comment">//                 RESERVAR PEÃ‡A DA FILA NA PILHA</span></div>
<div class="line">                <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">                printf(<span class="stringliteral">&quot;\nğŸ“¦ Processando reserva de peÃ§a...\n&quot;</span>);</div>
<div class="line">                <span class="comment">// ValidaÃ§Ã£o otimizada com mÃºltiplas condiÃ§Ãµes</span></div>
<div class="line">                <span class="keywordflow">if</span> (verificarFilaVazia(&amp;filaDeJogo)) {</div>
<div class="line">                    printf(<span class="stringliteral">&quot;âŒ ImpossÃ­vel reservar: fila estÃ¡ vazia!\n&quot;</span>);</div>
<div class="line">                    printf(<span class="stringliteral">&quot;   ğŸ’¡ Dica: Gere novas peÃ§as primeiro (opÃ§Ã£o 4)\n&quot;</span>);</div>
<div class="line">                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (verificarPilhaCheia(&amp;pilhaReserva)) {</div>
<div class="line">                    printf(<span class="stringliteral">&quot;âŒ ImpossÃ­vel reservar: pilha estÃ¡ cheia!\n&quot;</span>);</div>
<div class="line">                    printf(<span class="stringliteral">&quot;   ğŸ’¡ Dica: Use peÃ§as reservadas primeiro (opÃ§Ã£o 3)\n&quot;</span>);</div>
<div class="line">                } <span class="keywordflow">else</span> {</div>
<div class="line">                    Peca pecaReservada = removerPecaDaFila(&amp;filaDeJogo);</div>
<div class="line">                    reservarPecaNaPilha(&amp;pilhaReserva, pecaReservada);</div>
<div class="line">                    </div>
<div class="line">                    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">                    <span class="comment">//                    ATUALIZAÃ‡ÃƒO EXPERT - RESERVA</span></div>
<div class="line">                    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">                    sistemaExpert.pecasReservadas++;</div>
<div class="line">                    </div>
<div class="line">                    printf(<span class="stringliteral">&quot;âœ… PeÃ§a %c%d foi reservada na pilha!\n&quot;</span>, </div>
<div class="line">                           pecaReservada.tipo, pecaReservada.id);</div>
<div class="line">                    printf(<span class="stringliteral">&quot;   ğŸ“Š PeÃ§as na fila: %d/5 | PeÃ§as reservadas: %d/3\n&quot;</span>, </div>
<div class="line">                           filaDeJogo.quantidadePecas, pilhaReserva.quantidadeReservada);</div>
<div class="line">                    </div>
<div class="line">                    <span class="comment">// Gera automaticamente uma nova peÃ§a se houver espaÃ§o</span></div>
<div class="line">                    <span class="keywordflow">if</span> (!verificarFilaCheia(&amp;filaDeJogo)) {</div>
<div class="line">                        Peca novaPecaGerada = gerarNovaPeca();</div>
<div class="line">                        inserirPecaNaFila(&amp;filaDeJogo, novaPecaGerada);</div>
<div class="line">                        printf(<span class="stringliteral">&quot;   ğŸ”„ Nova peÃ§a %c%d gerada automaticamente\n&quot;</span>, </div>
<div class="line">                               novaPecaGerada.tipo, novaPecaGerada.id);</div>
<div class="line">                    }</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">            </div>
<div class="line">            <span class="keywordflow">case</span> 3: {</div>
<div class="line">                <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">                <span class="comment">//                   USAR PEÃ‡A RESERVADA DA PILHA</span></div>
<div class="line">                <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">                printf(<span class="stringliteral">&quot;\nğŸ¯ Processando uso de peÃ§a reservada...\n&quot;</span>);</div>
<div class="line">                </div>
<div class="line"><span class="keywordflow">if</span> (verificarPilhaVazia(&amp;pilhaReserva)) {</div>
<div class="line">                    printf(<span class="stringliteral">&quot;âŒ ImpossÃ­vel usar: pilha estÃ¡ vazia!\n&quot;</span>);</div>
<div class="line">                    printf(<span class="stringliteral">&quot;   ğŸ’¡ Dica: Reserve peÃ§as primeiro (opÃ§Ã£o 2)\n&quot;</span>);</div>
<div class="line">                } <span class="keywordflow">else</span> {</div>
<div class="line">                    Peca pecaUsada = usarPecaDaPilha(&amp;pilhaReserva);</div>
<div class="line">                    </div>
<div class="line">                    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">                    <span class="comment">//                    PROCESSAMENTO EXPERT - USO RESERVA</span></div>
<div class="line">                    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">                    <a class="code hl_function" href="tetris_8c.html#adeea4c9bfd48c9c3fe2e6be1687df862">processarJogadaExpert</a>(pecaUsada, 2, &amp;sistemaExpert); <span class="comment">// origem 2 = pilha</span></div>
<div class="line">                    </div>
<div class="line">                    printf(<span class="stringliteral">&quot;âœ… PeÃ§a reservada %c%d foi usada com sucesso!\n&quot;</span>, </div>
<div class="line">                           pecaUsada.tipo, pecaUsada.id);</div>
<div class="line">                    printf(<span class="stringliteral">&quot;   ğŸ“Š PeÃ§as reservadas restantes: %d/3\n&quot;</span>, </div>
<div class="line">                           pilhaReserva.quantidadeReservada);</div>
<div class="line">                    </div>
<div class="line">                    <span class="comment">// Exibir informaÃ§Ãµes Expert</span></div>
<div class="line">                    printf(<span class="stringliteral">&quot;   ğŸ¯ PontuaÃ§Ã£o: %d (+%d) | Combo: %dx | NÃ­vel: %d\n&quot;</span>,</div>
<div class="line">                           sistemaExpert.pontuacaoTotal, sistemaExpert.pontosUltimaJogada,</div>
<div class="line">                           sistemaExpert.comboAtual, sistemaExpert.nivelAtual);</div>
<div class="line">                    </div>
<div class="line">                    <span class="keywordflow">if</span> (<a class="code hl_function" href="tetris_8c.html#a6165ae6c43b73bd06d2efbe452b039aa">verificarProgressaoNivel</a>(&amp;sistemaExpert)) {</div>
<div class="line">                        printf(<span class="stringliteral">&quot;   ğŸ‰ NÃVEL UP! Agora vocÃª estÃ¡ no nÃ­vel %d!\n&quot;</span>, </div>
<div class="line">                               sistemaExpert.nivelAtual);</div>
<div class="line">                    }</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">            </div>
<div class="line">            <span class="keywordflow">case</span> 4: {</div>
<div class="line">                <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">                <span class="comment">//                      GERAR NOVA PEÃ‡A</span></div>
<div class="line">                <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">                printf(<span class="stringliteral">&quot;\nğŸ”„ Processando geraÃ§Ã£o de nova peÃ§a...\n&quot;</span>);</div>
<div class="line">                </div>
<div class="line"><span class="keywordflow">if</span> (verificarFilaCheia(&amp;filaDeJogo)) {</div>
<div class="line">                    printf(<span class="stringliteral">&quot;âŒ ImpossÃ­vel gerar: fila estÃ¡ cheia!\n&quot;</span>);</div>
<div class="line">                    printf(<span class="stringliteral">&quot;   ğŸ’¡ Dica: Jogue ou reserve peÃ§as primeiro (opÃ§Ãµes 1 ou 2)\n&quot;</span>);</div>
<div class="line">                } <span class="keywordflow">else</span> {</div>
<div class="line">                    Peca novaPecaGerada = gerarNovaPeca();</div>
<div class="line">                    inserirPecaNaFila(&amp;filaDeJogo, novaPecaGerada);</div>
<div class="line">                    printf(<span class="stringliteral">&quot;âœ… Nova peÃ§a %c%d gerada e adicionada Ã  fila!\n&quot;</span>, </div>
<div class="line">                           novaPecaGerada.tipo, novaPecaGerada.id);</div>
<div class="line">                    printf(<span class="stringliteral">&quot;   ğŸ“Š PeÃ§as na fila: %d/5\n&quot;</span>, filaDeJogo.quantidadePecas);</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">            </div>
<div class="line">            <span class="keywordflow">case</span> 5: {</div>
<div class="line">                <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">                <span class="comment">//                    EXIBIR ESTADO COMPLETO</span></div>
<div class="line">                <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">                printf(<span class="stringliteral">&quot;\nğŸ“Š Atualizando visualizaÃ§Ã£o completa...\n&quot;</span>);</div>
<div class="line">                exibirEstadoCompleto(&amp;filaDeJogo, &amp;pilhaReserva);</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">            </div>
<div class="line">            <span class="keywordflow">case</span> 6: {</div>
<div class="line">                <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">                <span class="comment">//                   ESTATÃSTICAS EXPERT</span></div>
<div class="line">                <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">                printf(<span class="stringliteral">&quot;\nğŸ“Š Exibindo estatÃ­sticas Expert...\n&quot;</span>);</div>
<div class="line">                exibirEstatisticasExpert(&amp;sistemaExpert);</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">            </div>
<div class="line">            <span class="keywordflow">case</span> 0: {</div>
<div class="line">                <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">                <span class="comment">//                        SAIR DO PROGRAMA</span></div>
<div class="line">                <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">                printf(<span class="stringliteral">&quot;\nğŸ‘‹ Encerrando o jogo...\n&quot;</span>);</div>
<div class="line">                exibirDespedida();</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">                </div>
<div class="line">            <span class="keywordflow">default</span>:</div>
<div class="line">                <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">                <span class="comment">//                       OPÃ‡ÃƒO INVÃLIDA</span></div>
<div class="line">                <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">                printf(<span class="stringliteral">&quot;\nâŒ OpÃ§Ã£o invÃ¡lida! Por favor, escolha uma opÃ§Ã£o vÃ¡lida.\n&quot;</span>);</div>
<div class="line">                printf(<span class="stringliteral">&quot;   ğŸ’¡ OpÃ§Ãµes disponÃ­veis: 0, 1, 2, 3, 4, 5, 6\n&quot;</span>);</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line">        </div>
<div class="line">        <span class="comment">// Pausa para o usuÃ¡rio ler as mensagens antes de continuar</span></div>
<div class="line">        <span class="keywordflow">if</span> (opcaoEscolhida != 0 &amp;&amp; opcaoEscolhida != 5 &amp;&amp; opcaoEscolhida != 6) {</div>
<div class="line">            printf(<span class="stringliteral">&quot;\nâ¸ï¸  Pressione Enter para continuar...&quot;</span>);</div>
<div class="line">            getchar(); <span class="comment">// Limpa buffer do scanf</span></div>
<div class="line">            getchar(); <span class="comment">// Aguarda Enter do usuÃ¡rio</span></div>
<div class="line">        }</div>
<div class="line">        </div>
<div class="line">    } <span class="keywordflow">while</span> (opcaoEscolhida != 0);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    <span class="comment">//                              FINALIZAÃ‡ÃƒO</span></div>
<div class="line">    <span class="comment">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
<div class="line">    </div>
<div class="line">    printf(<span class="stringliteral">&quot;\nğŸ¯ Programa finalizado com sucesso!\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;   Obrigado por jogar Tetris Stack - NÃ­vel Adventurer!\n\n&quot;</span>);</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span> 0; <span class="comment">// Indica execuÃ§Ã£o bem-sucedida</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="ttc" id="atetris_8c_html_a2905e073b3d5b998d159f5f17d0d1f9a"><div class="ttname"><a href="tetris_8c.html#a2905e073b3d5b998d159f5f17d0d1f9a">detectarCombo</a></div><div class="ttdeci">int detectarCombo(char tipoPeca, SistemaExpert *sistemaPtr)</div><div class="ttdoc">Detecta e processa combos de peÃ§as consecutivas.</div><div class="ttdef"><b>DefiniÃ§Ã£o</b> <a href="tetris_8c_source.html#l00285">tetris.c:285</a></div></div>
<div class="ttc" id="atetris_8c_html_a6165ae6c43b73bd06d2efbe452b039aa"><div class="ttname"><a href="tetris_8c.html#a6165ae6c43b73bd06d2efbe452b039aa">verificarProgressaoNivel</a></div><div class="ttdeci">int verificarProgressaoNivel(SistemaExpert *sistemaPtr)</div><div class="ttdoc">Verifica e processa progressÃ£o de nÃ­vel.</div><div class="ttdef"><b>DefiniÃ§Ã£o</b> <a href="tetris_8c_source.html#l00354">tetris.c:354</a></div></div>
<div class="ttc" id="atetris_8c_html_a9e02dcf454b4b8d211118be482b21b49"><div class="ttname"><a href="tetris_8c.html#a9e02dcf454b4b8d211118be482b21b49">calcularPontuacao</a></div><div class="ttdeci">int calcularPontuacao(char tipoPeca, SistemaExpert *sistemaPtr)</div><div class="ttdoc">Calcula pontuaÃ§Ã£o baseada no tipo de peÃ§a e multiplicadores.</div><div class="ttdef"><b>DefiniÃ§Ã£o</b> <a href="tetris_8c_source.html#l00249">tetris.c:249</a></div></div>
<div class="ttc" id="atetris_8c_html_aaf4095c9b2ba3b00995bac973f037a2d"><div class="ttname"><a href="tetris_8c.html#aaf4095c9b2ba3b00995bac973f037a2d">inicializarSistemaExpert</a></div><div class="ttdeci">void inicializarSistemaExpert(SistemaExpert *sistemaPtr)</div><div class="ttdoc">Inicializa o sistema Expert com valores padrÃ£o.</div><div class="ttdef"><b>DefiniÃ§Ã£o</b> <a href="tetris_8c_source.html#l00178">tetris.c:178</a></div></div>
<div class="ttc" id="atetris_8c_html_adeea4c9bfd48c9c3fe2e6be1687df862"><div class="ttname"><a href="tetris_8c.html#adeea4c9bfd48c9c3fe2e6be1687df862">processarJogadaExpert</a></div><div class="ttdeci">void processarJogadaExpert(Peca peca, int origem, SistemaExpert *sistemaPtr)</div><div class="ttdoc">Processa uma jogada completa no sistema Expert.</div><div class="ttdef"><b>DefiniÃ§Ã£o</b> <a href="tetris_8c_source.html#l00408">tetris.c:408</a></div></div>
</div><!-- fragment --> </div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Gerado por&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
